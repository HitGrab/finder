"use strict";(self.webpackChunkfinder_docs=self.webpackChunkfinder_docs||[]).push([[805],{6318:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"rules/search-rule","title":"SearchRule","description":"Select strings from your items to search against","source":"@site/docs/rules/search-rule.md","sourceDirName":"rules","slug":"/rules/search-rule","permalink":"/finder/rules/search-rule","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Rules","permalink":"/finder/rules/"},"next":{"title":"FilterRule","permalink":"/finder/rules/filter-rule"}}');var t=s(4848),i=s(8453);const c={sidebar_position:1},o="SearchRule",a={},l=[{value:"Search algorithm",id:"search-algorithm",level:2},{value:"Sorted results",id:"sorted-results",level:2},{value:"Custom search algorithms",id:"custom-search-algorithms",level:2}];function d(e){const r={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"searchrule",children:"SearchRule"})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"Select strings from your items to search against"})}),"\n",(0,t.jsxs)(r.p,{children:["A Finder instance has a single ",(0,t.jsx)(r.code,{children:"searchTerm"})," string that will be compared against haystacks extracted from the items array."]}),"\n",(0,t.jsxs)(r.p,{children:["Use a ",(0,t.jsx)(r.code,{children:"searchFn"})," to extract the string/strings from each item that will be compared against the searchTerm needle."]}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"Type Signature"})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:"const rule = searchRule<FItem, FContext>({\n    id?: string\n    searchFn: (item: FItem, context: FContext) => string | string[];\n    debounceMilliseconds?: number;\n})\n"})}),"\n",(0,t.jsx)(r.admonition,{type:"tip",children:(0,t.jsx)(r.p,{children:"Only a single search rule can be defined per Finder instance. If you need to do multiple kinds of text searches, consider using a Filter!"})}),"\n",(0,t.jsx)(r.h2,{id:"search-algorithm",children:"Search algorithm"}),"\n",(0,t.jsx)(r.p,{children:"Finder uses case-insensitive sequential character matches."}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:['Searching for "pru" in "hydraulic pressure" matches "hydraulic ',(0,t.jsx)(r.strong,{children:"pr"}),"ess",(0,t.jsx)(r.strong,{children:"u"}),'re"']}),"\n",(0,t.jsx)(r.li,{children:'Searching for "dyr" in "hydraulic pressure" does not match.'}),"\n",(0,t.jsxs)(r.li,{children:['Searching for "r a s s e" in "hydraulic pressure" matches "hyd',(0,t.jsx)(r.strong,{children:"ra"}),"ulic pre",(0,t.jsx)(r.strong,{children:"ss"}),"ur",(0,t.jsx)(r.strong,{children:"e"}),'".']}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"sorted-results",children:"Sorted results"}),"\n",(0,t.jsx)(r.p,{children:"Finder sorts results to find the closest matches. A search score is summed based on:"}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"Ratio of matched characters to haystack length. ( Scored 0-100 )"})}),"\n",(0,t.jsxs)(r.p,{children:["With the needle ",(0,t.jsx)(r.code,{children:"ap"}),", ",(0,t.jsx)(r.code,{children:"app"})," has a score of 66, while ",(0,t.jsx)(r.code,{children:"apple"})," is 40."]}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"Comparative length of sequential character matches. ( Scored 0-100 )"})}),"\n",(0,t.jsxs)(r.p,{children:["With the needle ",(0,t.jsx)(r.code,{children:"orange"}),", ",(0,t.jsx)(r.code,{children:"orc angel"})," has a score of 80, while ",(0,t.jsx)(r.code,{children:"delicious oranges"})," is 100."]}),"\n",(0,t.jsx)(r.p,{children:"Both scores are equally weighted."}),"\n",(0,t.jsx)(r.admonition,{type:"warning",children:(0,t.jsxs)(r.p,{children:["Ranked search will be overridden if a ",(0,t.jsx)(r.code,{children:"sortBy"})," rule is set. If you want to use both ranked search and sortBy rules, you'll need to enable ",(0,t.jsx)(r.code,{children:"ignoreSortByRulesWhileSearchRuleIsActive"})," in your configuration object."]})}),"\n",(0,t.jsx)(r.h2,{id:"custom-search-algorithms",children:"Custom search algorithms"}),"\n",(0,t.jsx)(r.p,{children:"If this search algorithm or sorting doesn't meet your needs, you may want to create a filter or a custom sortBy rule."})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,r,s)=>{s.d(r,{R:()=>c,x:()=>o});var n=s(6540);const t={},i=n.createContext(t);function c(e){const r=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),n.createElement(i.Provider,{value:r},e.children)}}}]);