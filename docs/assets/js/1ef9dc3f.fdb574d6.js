"use strict";(self.webpackChunkfinder_docs=self.webpackChunkfinder_docs||[]).push([[9454],{89:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>y,contentTitle:()=>_,default:()=>C,frontMatter:()=>g,metadata:()=>t,toc:()=>k});const t=JSON.parse('{"id":"tutorial/basic-usage/result","title":"Et voila!","description":"","source":"@site/docs/tutorial/basic-usage/result.md","sourceDirName":"tutorial/basic-usage","slug":"/tutorial/basic-usage/result","permalink":"/finder/tutorial/basic-usage/result","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Build Controls","permalink":"/finder/tutorial/basic-usage/controls"},"next":{"title":"Injecting Context","permalink":"/finder/tutorial/context"}}');var l=r(4848),i=r(8453),n=r(4185),a=r(1556),o=r(2543);function c(){return{id:a.a.number.int(),name:`${a.a.person.lastName()} Manor`,price:a.a.number.int({min:200,max:3500}),address:{street_address:a.a.location.streetAddress(),secondary_address:a.a.location.secondaryAddress()},num_bedrooms:a.a.number.int({min:1,max:5}),is_available_immediately:!!(0,o.random)(0,1)}}var d=r(6540);const u=(0,n.HF)([(0,n.f8)({searchFn:e=>e.name?[e.name,e.address.street_address]:e.address.street_address}),(0,n.Pl)({id:"is_available_immediately",filterFn:e=>e.is_available_immediately,boolean:!0,label:"Available Immediately"}),(0,n.Pl)({id:"price",filterFn:(e,s)=>{const[r,t]=s;return e.price>=r&&e.price<=t},options:[{label:"under 1k",value:[0,1e3]},{label:"1k-2k",value:[1e3,2e3]},{label:"2k+",value:[2e3,1/0]}]}),(0,n.Pl)({id:"num_bedrooms_filter",filterFn:(e,s)=>s.includes(e.num_bedrooms),options:({items:e})=>{const s=e.map(e=>e.num_bedrooms),r=new Set(s);return Array.from(r).sort().map(e=>({label:`${e} Bedrooms`,value:e}))},multiple:!0}),(0,n.Ym)({id:"sort_by_price",label:"Price",sortFn:e=>e.price}),(0,n.Ym)({id:"sort_by_num_bedrooms",label:"Number of Bedrooms",sortFn:e=>e.num_bedrooms,defaultSortDirection:"desc"})]);function m(){const e=a.a.helpers.multiple(c,{count:30});return(0,l.jsx)(n.vR,{items:e,rules:u,children:(0,l.jsx)("div",{className:"container",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col col--3",children:[(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{children:"Search"}),(0,l.jsx)(b,{})]}),(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{children:"Filters"}),(0,l.jsx)("div",{children:(0,l.jsx)(j,{ruleId:"is_available_immediately"})}),(0,l.jsxs)("div",{children:["Price: ",(0,l.jsx)(f,{ruleId:"price"})]}),"Num Bedrooms: ",(0,l.jsx)(p,{ruleId:"num_bedrooms_filter"})]}),(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{children:"Sort"}),(0,l.jsx)(v,{})]})]}),(0,l.jsx)("div",{className:"col col--9",children:(0,l.jsx)(n.vR.Content,{children:{loading:"Loading...",empty:"No listings found.",noMatches:"No results found.",items:h}})})]})})})}function h({items:e}){return(0,l.jsx)("div",{className:"listingContainer",children:e.map(e=>(0,l.jsx)(x,{listing:e},e.id))})}function x({listing:e}){return(0,l.jsxs)("div",{className:"listing",children:[(0,l.jsxs)("div",{className:"listing__header",children:[(0,l.jsx)("b",{children:(0,l.jsx)(n.vR.SearchTermHaystack,{children:e.name})}),(0,l.jsx)("br",{}),"$",(new Intl.NumberFormat).format(e.price)]}),(0,l.jsxs)("div",{className:"listing__content",children:[(0,l.jsx)(n.vR.SearchTermHaystack,{children:e.address.street_address}),(0,l.jsx)("br",{}),e.num_bedrooms," bedroom(s)",(0,l.jsx)("br",{}),e.is_available_immediately?"\u2705":"\u274c"," Available immediately"]})]})}function b(){const e=(0,n.gT)(),[s,r]=(0,d.useState)(""),t=(0,d.useCallback)(s=>{r(s),e.search.setSearchTerm(s)},[e.search]),i=(0,d.useCallback)(()=>{r(""),e.search.reset()},[e.search]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{placeholder:"Search",type:"text",value:s,onInput:e=>t(e.currentTarget.value)}),e.search.hasSearchTerm&&(0,l.jsx)("button",{type:"button",className:"listContainer__search__resetButton",onClick:i,children:"x"})]})}function j({ruleId:e}){const s=(0,n.gT)(),r=s.filters.getRule(e),t=s.filters.has(r);return(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:t,onChange:()=>s.filters.toggle(r)}),r.label]})}function f({ruleId:e}){const s=(0,n.gT)(),r=s.filters.getRule(e),t=s.filters.get(r),i=r.required?r.options:[{value:void 0,label:"All"},...r.options],a=i.findIndex(({value:e})=>e===t);return(0,l.jsx)("select",{value:a,onChange:r=>{const t=i.at(r.currentTarget.selectedIndex);s.filters.set(e,t.value)},children:i.map((e,s)=>(0,l.jsx)("option",{value:s,children:e.label},s))})}function p({ruleId:e}){const s=(0,n.gT)(),r=s.filters.getRule(e);return(0,l.jsx)("ul",{children:r.options.map(e=>{const t=s.filters.has(r,e);return(0,l.jsx)("li",{children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:t,onChange:()=>s.filters.toggle(r,e)}),e.label]})},e.value)})})}function v(){const e=(0,n.gT)();return(0,l.jsx)("ul",{children:e.sortBy.rules.map(s=>{const r=e.sortBy.activeRule===s;return(0,l.jsx)("li",{children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",checked:r,onChange:()=>e.sortBy.set(s)}),s.label]})},s.id)})})}const g={},_="Et voila!",y={},k=[];function N(e){const s={h1:"h1",header:"header",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.header,{children:(0,l.jsx)(s.h1,{id:"et-voila",children:"Et voila!"})}),"\n",(0,l.jsx)(m,{})]})}function C(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(N,{...e})}):N(e)}}}]);