(function(ut,bt){typeof exports=="object"&&typeof module<"u"?bt(exports,require("react"),require("react/jsx-runtime")):typeof define=="function"&&define.amd?define(["exports","react","react/jsx-runtime"],bt):(ut=typeof globalThis<"u"?globalThis:ut||self,bt(ut.finder={},ut.React,ut.ReactJsxRuntime))})(this,(function(ut,bt,lt){"use strict";function zf(h){return h}function $f(h){return h}function Kf(h){return h}function Xf(h){return h}function Zf(h){return h}function Jf(h,u){return{rules:h,onChange:u}}function Vf(h,u){return{haystack:h,onChange:u}}const Vi=bt.createContext(null);function me(){const h=bt.useContext(Vi);if(h===null)throw new Error("useFinder requires a FinderContext.");const[u]=h;return u}function Qi({children:h}){const u=me();return u.isLoading?typeof h=="function"?lt.jsx(h,{pagination:u.pagination,context:u.context}):h:null}function ki({children:h}){const u=me();return u.isEmpty?typeof h=="function"?lt.jsx(h,{pagination:u.pagination,context:u.context}):h:null}function ji({children:h}){const u=me();return u.isEmpty===!1&&u.hasMatches===!1?typeof h=="function"?lt.jsx(h,{pagination:u.pagination,context:u.context}):h:null}function tu({children:h}){const u=me();return u.hasMatches&&u.matches.items?typeof h=="function"?lt.jsx(h,{items:u.matches.items,pagination:u.pagination,context:u.context}):h:null}function eu({children:h}){const u=me();return u.hasMatches&&u.matches.groups?typeof h=="function"?lt.jsx(h,{groups:u.matches.groups,pagination:u.pagination,context:u.context}):h:null}function Ue({children:h}){if(Object.values(h).length===0)throw new Error("No render props were found.");return[h.loading&&lt.jsx(Qi,{children:h.loading},"loading"),h.empty&&lt.jsx(ki,{children:h.empty},"empty"),h.noMatches&&lt.jsx(ji,{children:h.noMatches},"noMatches"),h.items&&lt.jsx(tu,{children:h.items},"items"),h.groups&&lt.jsx(eu,{children:h.groups},"groups")]}Ue.Loading=Qi,Ue.Empty=ki,Ue.NoMatches=ji,Ue.Items=tu,Ue.Groups=eu;var yn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tn={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Qf=tn.exports,nu;function kf(){return nu||(nu=1,(function(h,u){(function(){var i,l="4.17.21",p=200,S="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",R="Expected a function",C="Invalid `variable` option passed into `_.template`",B="__lodash_hash_undefined__",G=500,z="__lodash_placeholder__",q=1,dt=2,wt=4,Jt=1,ge=2,ct=1,yt=2,we=4,Tt=8,ee=16,St=32,xt=64,$=128,ne=256,Me=512,Or=30,Ro="...",Ao=800,mo=16,cu=1,wo=2,yo=3,ye=1/0,de=9007199254740991,xo=17976931348623157e292,Ln=NaN,Vt=4294967295,Oo=Vt-1,Lo=Vt>>>1,Po=[["ary",$],["bind",ct],["bindKey",yt],["curry",Tt],["curryRight",ee],["flip",Me],["partial",St],["partialRight",xt],["rearg",ne]],Be="[object Arguments]",Pn="[object Array]",Co="[object AsyncFunction]",rn="[object Boolean]",un="[object Date]",Do="[object DOMException]",Cn="[object Error]",Dn="[object Function]",hu="[object GeneratorFunction]",Yt="[object Map]",sn="[object Number]",No="[object Null]",re="[object Object]",gu="[object Promise]",bo="[object Proxy]",fn="[object RegExp]",zt="[object Set]",on="[object String]",Nn="[object Symbol]",Fo="[object Undefined]",an="[object WeakMap]",Uo="[object WeakSet]",ln="[object ArrayBuffer]",Ge="[object DataView]",Lr="[object Float32Array]",Pr="[object Float64Array]",Cr="[object Int8Array]",Dr="[object Int16Array]",Nr="[object Int32Array]",br="[object Uint8Array]",Fr="[object Uint8ClampedArray]",Ur="[object Uint16Array]",Mr="[object Uint32Array]",Mo=/\b__p \+= '';/g,Bo=/\b(__p \+=) '' \+/g,Go=/(__e\(.*?\)|\b__t\)) \+\n'';/g,du=/&(?:amp|lt|gt|quot|#39);/g,_u=/[&<>"']/g,Wo=RegExp(du.source),Ho=RegExp(_u.source),qo=/<%-([\s\S]+?)%>/g,Yo=/<%([\s\S]+?)%>/g,pu=/<%=([\s\S]+?)%>/g,zo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$o=/^\w*$/,Ko=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Br=/[\\^$.*+?()[\]{}|]/g,Xo=RegExp(Br.source),Gr=/^\s+/,Zo=/\s/,Jo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vo=/\{\n\/\* \[wrapped with (.+)\] \*/,Qo=/,? & /,ko=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,jo=/[()=,{}\[\]\/\s]/,ta=/\\(\\)?/g,ea=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vu=/\w*$/,na=/^[-+]0x[0-9a-f]+$/i,ra=/^0b[01]+$/i,ia=/^\[object .+?Constructor\]$/,ua=/^0o[0-7]+$/i,sa=/^(?:0|[1-9]\d*)$/,fa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bn=/($^)/,oa=/['\n\r\u2028\u2029\\]/g,Fn="\\ud800-\\udfff",aa="\\u0300-\\u036f",la="\\ufe20-\\ufe2f",ca="\\u20d0-\\u20ff",Iu=aa+la+ca,Tu="\\u2700-\\u27bf",Su="a-z\\xdf-\\xf6\\xf8-\\xff",ha="\\xac\\xb1\\xd7\\xf7",ga="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",da="\\u2000-\\u206f",_a=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Eu="A-Z\\xc0-\\xd6\\xd8-\\xde",Ru="\\ufe0e\\ufe0f",Au=ha+ga+da+_a,Wr="['’]",pa="["+Fn+"]",mu="["+Au+"]",Un="["+Iu+"]",wu="\\d+",va="["+Tu+"]",yu="["+Su+"]",xu="[^"+Fn+Au+wu+Tu+Su+Eu+"]",Hr="\\ud83c[\\udffb-\\udfff]",Ia="(?:"+Un+"|"+Hr+")",Ou="[^"+Fn+"]",qr="(?:\\ud83c[\\udde6-\\uddff]){2}",Yr="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+Eu+"]",Lu="\\u200d",Pu="(?:"+yu+"|"+xu+")",Ta="(?:"+We+"|"+xu+")",Cu="(?:"+Wr+"(?:d|ll|m|re|s|t|ve))?",Du="(?:"+Wr+"(?:D|LL|M|RE|S|T|VE))?",Nu=Ia+"?",bu="["+Ru+"]?",Sa="(?:"+Lu+"(?:"+[Ou,qr,Yr].join("|")+")"+bu+Nu+")*",Ea="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ra="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Fu=bu+Nu+Sa,Aa="(?:"+[va,qr,Yr].join("|")+")"+Fu,ma="(?:"+[Ou+Un+"?",Un,qr,Yr,pa].join("|")+")",wa=RegExp(Wr,"g"),ya=RegExp(Un,"g"),zr=RegExp(Hr+"(?="+Hr+")|"+ma+Fu,"g"),xa=RegExp([We+"?"+yu+"+"+Cu+"(?="+[mu,We,"$"].join("|")+")",Ta+"+"+Du+"(?="+[mu,We+Pu,"$"].join("|")+")",We+"?"+Pu+"+"+Cu,We+"+"+Du,Ra,Ea,wu,Aa].join("|"),"g"),Oa=RegExp("["+Lu+Fn+Iu+Ru+"]"),La=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Pa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ca=-1,J={};J[Lr]=J[Pr]=J[Cr]=J[Dr]=J[Nr]=J[br]=J[Fr]=J[Ur]=J[Mr]=!0,J[Be]=J[Pn]=J[ln]=J[rn]=J[Ge]=J[un]=J[Cn]=J[Dn]=J[Yt]=J[sn]=J[re]=J[fn]=J[zt]=J[on]=J[an]=!1;var X={};X[Be]=X[Pn]=X[ln]=X[Ge]=X[rn]=X[un]=X[Lr]=X[Pr]=X[Cr]=X[Dr]=X[Nr]=X[Yt]=X[sn]=X[re]=X[fn]=X[zt]=X[on]=X[Nn]=X[br]=X[Fr]=X[Ur]=X[Mr]=!0,X[Cn]=X[Dn]=X[an]=!1;var Da={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Na={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ba={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Fa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ua=parseFloat,Ma=parseInt,Uu=typeof yn=="object"&&yn&&yn.Object===Object&&yn,Ba=typeof self=="object"&&self&&self.Object===Object&&self,ot=Uu||Ba||Function("return this")(),$r=u&&!u.nodeType&&u,xe=$r&&!0&&h&&!h.nodeType&&h,Mu=xe&&xe.exports===$r,Kr=Mu&&Uu.process,Ft=(function(){try{var g=xe&&xe.require&&xe.require("util").types;return g||Kr&&Kr.binding&&Kr.binding("util")}catch{}})(),Bu=Ft&&Ft.isArrayBuffer,Gu=Ft&&Ft.isDate,Wu=Ft&&Ft.isMap,Hu=Ft&&Ft.isRegExp,qu=Ft&&Ft.isSet,Yu=Ft&&Ft.isTypedArray;function Ot(g,v,_){switch(_.length){case 0:return g.call(v);case 1:return g.call(v,_[0]);case 2:return g.call(v,_[0],_[1]);case 3:return g.call(v,_[0],_[1],_[2])}return g.apply(v,_)}function Ga(g,v,_,m){for(var L=-1,W=g==null?0:g.length;++L<W;){var rt=g[L];v(m,rt,_(rt),g)}return m}function Ut(g,v){for(var _=-1,m=g==null?0:g.length;++_<m&&v(g[_],_,g)!==!1;);return g}function Wa(g,v){for(var _=g==null?0:g.length;_--&&v(g[_],_,g)!==!1;);return g}function zu(g,v){for(var _=-1,m=g==null?0:g.length;++_<m;)if(!v(g[_],_,g))return!1;return!0}function _e(g,v){for(var _=-1,m=g==null?0:g.length,L=0,W=[];++_<m;){var rt=g[_];v(rt,_,g)&&(W[L++]=rt)}return W}function Mn(g,v){var _=g==null?0:g.length;return!!_&&He(g,v,0)>-1}function Xr(g,v,_){for(var m=-1,L=g==null?0:g.length;++m<L;)if(_(v,g[m]))return!0;return!1}function V(g,v){for(var _=-1,m=g==null?0:g.length,L=Array(m);++_<m;)L[_]=v(g[_],_,g);return L}function pe(g,v){for(var _=-1,m=v.length,L=g.length;++_<m;)g[L+_]=v[_];return g}function Zr(g,v,_,m){var L=-1,W=g==null?0:g.length;for(m&&W&&(_=g[++L]);++L<W;)_=v(_,g[L],L,g);return _}function Ha(g,v,_,m){var L=g==null?0:g.length;for(m&&L&&(_=g[--L]);L--;)_=v(_,g[L],L,g);return _}function Jr(g,v){for(var _=-1,m=g==null?0:g.length;++_<m;)if(v(g[_],_,g))return!0;return!1}var qa=Vr("length");function Ya(g){return g.split("")}function za(g){return g.match(ko)||[]}function $u(g,v,_){var m;return _(g,function(L,W,rt){if(v(L,W,rt))return m=W,!1}),m}function Bn(g,v,_,m){for(var L=g.length,W=_+(m?1:-1);m?W--:++W<L;)if(v(g[W],W,g))return W;return-1}function He(g,v,_){return v===v?nl(g,v,_):Bn(g,Ku,_)}function $a(g,v,_,m){for(var L=_-1,W=g.length;++L<W;)if(m(g[L],v))return L;return-1}function Ku(g){return g!==g}function Xu(g,v){var _=g==null?0:g.length;return _?kr(g,v)/_:Ln}function Vr(g){return function(v){return v==null?i:v[g]}}function Qr(g){return function(v){return g==null?i:g[v]}}function Zu(g,v,_,m,L){return L(g,function(W,rt,K){_=m?(m=!1,W):v(_,W,rt,K)}),_}function Ka(g,v){var _=g.length;for(g.sort(v);_--;)g[_]=g[_].value;return g}function kr(g,v){for(var _,m=-1,L=g.length;++m<L;){var W=v(g[m]);W!==i&&(_=_===i?W:_+W)}return _}function jr(g,v){for(var _=-1,m=Array(g);++_<g;)m[_]=v(_);return m}function Xa(g,v){return V(v,function(_){return[_,g[_]]})}function Ju(g){return g&&g.slice(0,ju(g)+1).replace(Gr,"")}function Lt(g){return function(v){return g(v)}}function ti(g,v){return V(v,function(_){return g[_]})}function cn(g,v){return g.has(v)}function Vu(g,v){for(var _=-1,m=g.length;++_<m&&He(v,g[_],0)>-1;);return _}function Qu(g,v){for(var _=g.length;_--&&He(v,g[_],0)>-1;);return _}function Za(g,v){for(var _=g.length,m=0;_--;)g[_]===v&&++m;return m}var Ja=Qr(Da),Va=Qr(Na);function Qa(g){return"\\"+Fa[g]}function ka(g,v){return g==null?i:g[v]}function qe(g){return Oa.test(g)}function ja(g){return La.test(g)}function tl(g){for(var v,_=[];!(v=g.next()).done;)_.push(v.value);return _}function ei(g){var v=-1,_=Array(g.size);return g.forEach(function(m,L){_[++v]=[L,m]}),_}function ku(g,v){return function(_){return g(v(_))}}function ve(g,v){for(var _=-1,m=g.length,L=0,W=[];++_<m;){var rt=g[_];(rt===v||rt===z)&&(g[_]=z,W[L++]=_)}return W}function Gn(g){var v=-1,_=Array(g.size);return g.forEach(function(m){_[++v]=m}),_}function el(g){var v=-1,_=Array(g.size);return g.forEach(function(m){_[++v]=[m,m]}),_}function nl(g,v,_){for(var m=_-1,L=g.length;++m<L;)if(g[m]===v)return m;return-1}function rl(g,v,_){for(var m=_+1;m--;)if(g[m]===v)return m;return m}function Ye(g){return qe(g)?ul(g):qa(g)}function $t(g){return qe(g)?sl(g):Ya(g)}function ju(g){for(var v=g.length;v--&&Zo.test(g.charAt(v)););return v}var il=Qr(ba);function ul(g){for(var v=zr.lastIndex=0;zr.test(g);)++v;return v}function sl(g){return g.match(zr)||[]}function fl(g){return g.match(xa)||[]}var ol=(function g(v){v=v==null?ot:ze.defaults(ot.Object(),v,ze.pick(ot,Pa));var _=v.Array,m=v.Date,L=v.Error,W=v.Function,rt=v.Math,K=v.Object,ni=v.RegExp,al=v.String,Mt=v.TypeError,Wn=_.prototype,ll=W.prototype,$e=K.prototype,Hn=v["__core-js_shared__"],qn=ll.toString,Y=$e.hasOwnProperty,cl=0,ts=(function(){var t=/[^.]+$/.exec(Hn&&Hn.keys&&Hn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})(),Yn=$e.toString,hl=qn.call(K),gl=ot._,dl=ni("^"+qn.call(Y).replace(Br,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zn=Mu?v.Buffer:i,Ie=v.Symbol,$n=v.Uint8Array,es=zn?zn.allocUnsafe:i,Kn=ku(K.getPrototypeOf,K),ns=K.create,rs=$e.propertyIsEnumerable,Xn=Wn.splice,is=Ie?Ie.isConcatSpreadable:i,hn=Ie?Ie.iterator:i,Oe=Ie?Ie.toStringTag:i,Zn=(function(){try{var t=Ne(K,"defineProperty");return t({},"",{}),t}catch{}})(),_l=v.clearTimeout!==ot.clearTimeout&&v.clearTimeout,pl=m&&m.now!==ot.Date.now&&m.now,vl=v.setTimeout!==ot.setTimeout&&v.setTimeout,Jn=rt.ceil,Vn=rt.floor,ri=K.getOwnPropertySymbols,Il=zn?zn.isBuffer:i,us=v.isFinite,Tl=Wn.join,Sl=ku(K.keys,K),it=rt.max,ht=rt.min,El=m.now,Rl=v.parseInt,ss=rt.random,Al=Wn.reverse,ii=Ne(v,"DataView"),gn=Ne(v,"Map"),ui=Ne(v,"Promise"),Ke=Ne(v,"Set"),dn=Ne(v,"WeakMap"),_n=Ne(K,"create"),Qn=dn&&new dn,Xe={},ml=be(ii),wl=be(gn),yl=be(ui),xl=be(Ke),Ol=be(dn),kn=Ie?Ie.prototype:i,pn=kn?kn.valueOf:i,fs=kn?kn.toString:i;function f(t){if(tt(t)&&!P(t)&&!(t instanceof U)){if(t instanceof Bt)return t;if(Y.call(t,"__wrapped__"))return af(t)}return new Bt(t)}var Ze=(function(){function t(){}return function(e){if(!j(e))return{};if(ns)return ns(e);t.prototype=e;var n=new t;return t.prototype=i,n}})();function jn(){}function Bt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}f.templateSettings={escape:qo,evaluate:Yo,interpolate:pu,variable:"",imports:{_:f}},f.prototype=jn.prototype,f.prototype.constructor=f,Bt.prototype=Ze(jn.prototype),Bt.prototype.constructor=Bt;function U(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Vt,this.__views__=[]}function Ll(){var t=new U(this.__wrapped__);return t.__actions__=Et(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Et(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Et(this.__views__),t}function Pl(){if(this.__filtered__){var t=new U(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Cl(){var t=this.__wrapped__.value(),e=this.__dir__,n=P(t),r=e<0,s=n?t.length:0,o=Yc(0,s,this.__views__),a=o.start,c=o.end,d=c-a,I=r?c:a-1,T=this.__iteratees__,E=T.length,A=0,w=ht(d,this.__takeCount__);if(!n||!r&&s==d&&w==d)return Cs(t,this.__actions__);var x=[];t:for(;d--&&A<w;){I+=e;for(var N=-1,O=t[I];++N<E;){var F=T[N],M=F.iteratee,Dt=F.type,vt=M(O);if(Dt==wo)O=vt;else if(!vt){if(Dt==cu)continue t;break t}}x[A++]=O}return x}U.prototype=Ze(jn.prototype),U.prototype.constructor=U;function Le(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Dl(){this.__data__=_n?_n(null):{},this.size=0}function Nl(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function bl(t){var e=this.__data__;if(_n){var n=e[t];return n===B?i:n}return Y.call(e,t)?e[t]:i}function Fl(t){var e=this.__data__;return _n?e[t]!==i:Y.call(e,t)}function Ul(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_n&&e===i?B:e,this}Le.prototype.clear=Dl,Le.prototype.delete=Nl,Le.prototype.get=bl,Le.prototype.has=Fl,Le.prototype.set=Ul;function ie(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ml(){this.__data__=[],this.size=0}function Bl(t){var e=this.__data__,n=tr(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Xn.call(e,n,1),--this.size,!0}function Gl(t){var e=this.__data__,n=tr(e,t);return n<0?i:e[n][1]}function Wl(t){return tr(this.__data__,t)>-1}function Hl(t,e){var n=this.__data__,r=tr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}ie.prototype.clear=Ml,ie.prototype.delete=Bl,ie.prototype.get=Gl,ie.prototype.has=Wl,ie.prototype.set=Hl;function ue(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ql(){this.size=0,this.__data__={hash:new Le,map:new(gn||ie),string:new Le}}function Yl(t){var e=hr(this,t).delete(t);return this.size-=e?1:0,e}function zl(t){return hr(this,t).get(t)}function $l(t){return hr(this,t).has(t)}function Kl(t,e){var n=hr(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}ue.prototype.clear=ql,ue.prototype.delete=Yl,ue.prototype.get=zl,ue.prototype.has=$l,ue.prototype.set=Kl;function Pe(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ue;++e<n;)this.add(t[e])}function Xl(t){return this.__data__.set(t,B),this}function Zl(t){return this.__data__.has(t)}Pe.prototype.add=Pe.prototype.push=Xl,Pe.prototype.has=Zl;function Kt(t){var e=this.__data__=new ie(t);this.size=e.size}function Jl(){this.__data__=new ie,this.size=0}function Vl(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Ql(t){return this.__data__.get(t)}function kl(t){return this.__data__.has(t)}function jl(t,e){var n=this.__data__;if(n instanceof ie){var r=n.__data__;if(!gn||r.length<p-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ue(r)}return n.set(t,e),this.size=n.size,this}Kt.prototype.clear=Jl,Kt.prototype.delete=Vl,Kt.prototype.get=Ql,Kt.prototype.has=kl,Kt.prototype.set=jl;function os(t,e){var n=P(t),r=!n&&Fe(t),s=!n&&!r&&Ae(t),o=!n&&!r&&!s&&ke(t),a=n||r||s||o,c=a?jr(t.length,al):[],d=c.length;for(var I in t)(e||Y.call(t,I))&&!(a&&(I=="length"||s&&(I=="offset"||I=="parent")||o&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||ae(I,d)))&&c.push(I);return c}function as(t){var e=t.length;return e?t[pi(0,e-1)]:i}function tc(t,e){return gr(Et(t),Ce(e,0,t.length))}function ec(t){return gr(Et(t))}function si(t,e,n){(n!==i&&!Xt(t[e],n)||n===i&&!(e in t))&&se(t,e,n)}function vn(t,e,n){var r=t[e];(!(Y.call(t,e)&&Xt(r,n))||n===i&&!(e in t))&&se(t,e,n)}function tr(t,e){for(var n=t.length;n--;)if(Xt(t[n][0],e))return n;return-1}function nc(t,e,n,r){return Te(t,function(s,o,a){e(r,s,n(s),a)}),r}function ls(t,e){return t&&kt(e,st(e),t)}function rc(t,e){return t&&kt(e,At(e),t)}function se(t,e,n){e=="__proto__"&&Zn?Zn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function fi(t,e){for(var n=-1,r=e.length,s=_(r),o=t==null;++n<r;)s[n]=o?i:Hi(t,e[n]);return s}function Ce(t,e,n){return t===t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function Gt(t,e,n,r,s,o){var a,c=e&q,d=e&dt,I=e&wt;if(n&&(a=s?n(t,r,s,o):n(t)),a!==i)return a;if(!j(t))return t;var T=P(t);if(T){if(a=$c(t),!c)return Et(t,a)}else{var E=gt(t),A=E==Dn||E==hu;if(Ae(t))return bs(t,c);if(E==re||E==Be||A&&!s){if(a=d||A?{}:js(t),!c)return d?bc(t,rc(a,t)):Nc(t,ls(a,t))}else{if(!X[E])return s?t:{};a=Kc(t,E,c)}}o||(o=new Kt);var w=o.get(t);if(w)return w;o.set(t,a),Lf(t)?t.forEach(function(O){a.add(Gt(O,e,n,O,t,o))}):xf(t)&&t.forEach(function(O,F){a.set(F,Gt(O,e,n,F,t,o))});var x=I?d?xi:yi:d?At:st,N=T?i:x(t);return Ut(N||t,function(O,F){N&&(F=O,O=t[F]),vn(a,F,Gt(O,e,n,F,t,o))}),a}function ic(t){var e=st(t);return function(n){return cs(n,t,e)}}function cs(t,e,n){var r=n.length;if(t==null)return!r;for(t=K(t);r--;){var s=n[r],o=e[s],a=t[s];if(a===i&&!(s in t)||!o(a))return!1}return!0}function hs(t,e,n){if(typeof t!="function")throw new Mt(R);return mn(function(){t.apply(i,n)},e)}function In(t,e,n,r){var s=-1,o=Mn,a=!0,c=t.length,d=[],I=e.length;if(!c)return d;n&&(e=V(e,Lt(n))),r?(o=Xr,a=!1):e.length>=p&&(o=cn,a=!1,e=new Pe(e));t:for(;++s<c;){var T=t[s],E=n==null?T:n(T);if(T=r||T!==0?T:0,a&&E===E){for(var A=I;A--;)if(e[A]===E)continue t;d.push(T)}else o(e,E,r)||d.push(T)}return d}var Te=Gs(Qt),gs=Gs(ai,!0);function uc(t,e){var n=!0;return Te(t,function(r,s,o){return n=!!e(r,s,o),n}),n}function er(t,e,n){for(var r=-1,s=t.length;++r<s;){var o=t[r],a=e(o);if(a!=null&&(c===i?a===a&&!Ct(a):n(a,c)))var c=a,d=o}return d}function sc(t,e,n,r){var s=t.length;for(n=D(n),n<0&&(n=-n>s?0:s+n),r=r===i||r>s?s:D(r),r<0&&(r+=s),r=n>r?0:Cf(r);n<r;)t[n++]=e;return t}function ds(t,e){var n=[];return Te(t,function(r,s,o){e(r,s,o)&&n.push(r)}),n}function at(t,e,n,r,s){var o=-1,a=t.length;for(n||(n=Zc),s||(s=[]);++o<a;){var c=t[o];e>0&&n(c)?e>1?at(c,e-1,n,r,s):pe(s,c):r||(s[s.length]=c)}return s}var oi=Ws(),_s=Ws(!0);function Qt(t,e){return t&&oi(t,e,st)}function ai(t,e){return t&&_s(t,e,st)}function nr(t,e){return _e(e,function(n){return le(t[n])})}function De(t,e){e=Ee(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[jt(e[n++])];return n&&n==r?t:i}function ps(t,e,n){var r=e(t);return P(t)?r:pe(r,n(t))}function _t(t){return t==null?t===i?Fo:No:Oe&&Oe in K(t)?qc(t):eh(t)}function li(t,e){return t>e}function fc(t,e){return t!=null&&Y.call(t,e)}function oc(t,e){return t!=null&&e in K(t)}function ac(t,e,n){return t>=ht(e,n)&&t<it(e,n)}function ci(t,e,n){for(var r=n?Xr:Mn,s=t[0].length,o=t.length,a=o,c=_(o),d=1/0,I=[];a--;){var T=t[a];a&&e&&(T=V(T,Lt(e))),d=ht(T.length,d),c[a]=!n&&(e||s>=120&&T.length>=120)?new Pe(a&&T):i}T=t[0];var E=-1,A=c[0];t:for(;++E<s&&I.length<d;){var w=T[E],x=e?e(w):w;if(w=n||w!==0?w:0,!(A?cn(A,x):r(I,x,n))){for(a=o;--a;){var N=c[a];if(!(N?cn(N,x):r(t[a],x,n)))continue t}A&&A.push(x),I.push(w)}}return I}function lc(t,e,n,r){return Qt(t,function(s,o,a){e(r,n(s),o,a)}),r}function Tn(t,e,n){e=Ee(e,t),t=rf(t,e);var r=t==null?t:t[jt(Ht(e))];return r==null?i:Ot(r,t,n)}function vs(t){return tt(t)&&_t(t)==Be}function cc(t){return tt(t)&&_t(t)==ln}function hc(t){return tt(t)&&_t(t)==un}function Sn(t,e,n,r,s){return t===e?!0:t==null||e==null||!tt(t)&&!tt(e)?t!==t&&e!==e:gc(t,e,n,r,Sn,s)}function gc(t,e,n,r,s,o){var a=P(t),c=P(e),d=a?Pn:gt(t),I=c?Pn:gt(e);d=d==Be?re:d,I=I==Be?re:I;var T=d==re,E=I==re,A=d==I;if(A&&Ae(t)){if(!Ae(e))return!1;a=!0,T=!1}if(A&&!T)return o||(o=new Kt),a||ke(t)?Vs(t,e,n,r,s,o):Wc(t,e,d,n,r,s,o);if(!(n&Jt)){var w=T&&Y.call(t,"__wrapped__"),x=E&&Y.call(e,"__wrapped__");if(w||x){var N=w?t.value():t,O=x?e.value():e;return o||(o=new Kt),s(N,O,n,r,o)}}return A?(o||(o=new Kt),Hc(t,e,n,r,s,o)):!1}function dc(t){return tt(t)&&gt(t)==Yt}function hi(t,e,n,r){var s=n.length,o=s,a=!r;if(t==null)return!o;for(t=K(t);s--;){var c=n[s];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++s<o;){c=n[s];var d=c[0],I=t[d],T=c[1];if(a&&c[2]){if(I===i&&!(d in t))return!1}else{var E=new Kt;if(r)var A=r(I,T,d,t,e,E);if(!(A===i?Sn(T,I,Jt|ge,r,E):A))return!1}}return!0}function Is(t){if(!j(t)||Vc(t))return!1;var e=le(t)?dl:ia;return e.test(be(t))}function _c(t){return tt(t)&&_t(t)==fn}function pc(t){return tt(t)&&gt(t)==zt}function vc(t){return tt(t)&&Tr(t.length)&&!!J[_t(t)]}function Ts(t){return typeof t=="function"?t:t==null?mt:typeof t=="object"?P(t)?Rs(t[0],t[1]):Es(t):qf(t)}function gi(t){if(!An(t))return Sl(t);var e=[];for(var n in K(t))Y.call(t,n)&&n!="constructor"&&e.push(n);return e}function Ic(t){if(!j(t))return th(t);var e=An(t),n=[];for(var r in t)r=="constructor"&&(e||!Y.call(t,r))||n.push(r);return n}function di(t,e){return t<e}function Ss(t,e){var n=-1,r=Rt(t)?_(t.length):[];return Te(t,function(s,o,a){r[++n]=e(s,o,a)}),r}function Es(t){var e=Li(t);return e.length==1&&e[0][2]?ef(e[0][0],e[0][1]):function(n){return n===t||hi(n,t,e)}}function Rs(t,e){return Ci(t)&&tf(e)?ef(jt(t),e):function(n){var r=Hi(n,t);return r===i&&r===e?qi(n,t):Sn(e,r,Jt|ge)}}function rr(t,e,n,r,s){t!==e&&oi(e,function(o,a){if(s||(s=new Kt),j(o))Tc(t,e,a,n,rr,r,s);else{var c=r?r(Ni(t,a),o,a+"",t,e,s):i;c===i&&(c=o),si(t,a,c)}},At)}function Tc(t,e,n,r,s,o,a){var c=Ni(t,n),d=Ni(e,n),I=a.get(d);if(I){si(t,n,I);return}var T=o?o(c,d,n+"",t,e,a):i,E=T===i;if(E){var A=P(d),w=!A&&Ae(d),x=!A&&!w&&ke(d);T=d,A||w||x?P(c)?T=c:et(c)?T=Et(c):w?(E=!1,T=bs(d,!0)):x?(E=!1,T=Fs(d,!0)):T=[]:wn(d)||Fe(d)?(T=c,Fe(c)?T=Df(c):(!j(c)||le(c))&&(T=js(d))):E=!1}E&&(a.set(d,T),s(T,d,r,o,a),a.delete(d)),si(t,n,T)}function As(t,e){var n=t.length;if(n)return e+=e<0?n:0,ae(e,n)?t[e]:i}function ms(t,e,n){e.length?e=V(e,function(o){return P(o)?function(a){return De(a,o.length===1?o[0]:o)}:o}):e=[mt];var r=-1;e=V(e,Lt(y()));var s=Ss(t,function(o,a,c){var d=V(e,function(I){return I(o)});return{criteria:d,index:++r,value:o}});return Ka(s,function(o,a){return Dc(o,a,n)})}function Sc(t,e){return ws(t,e,function(n,r){return qi(t,r)})}function ws(t,e,n){for(var r=-1,s=e.length,o={};++r<s;){var a=e[r],c=De(t,a);n(c,a)&&En(o,Ee(a,t),c)}return o}function Ec(t){return function(e){return De(e,t)}}function _i(t,e,n,r){var s=r?$a:He,o=-1,a=e.length,c=t;for(t===e&&(e=Et(e)),n&&(c=V(t,Lt(n)));++o<a;)for(var d=0,I=e[o],T=n?n(I):I;(d=s(c,T,d,r))>-1;)c!==t&&Xn.call(c,d,1),Xn.call(t,d,1);return t}function ys(t,e){for(var n=t?e.length:0,r=n-1;n--;){var s=e[n];if(n==r||s!==o){var o=s;ae(s)?Xn.call(t,s,1):Ti(t,s)}}return t}function pi(t,e){return t+Vn(ss()*(e-t+1))}function Rc(t,e,n,r){for(var s=-1,o=it(Jn((e-t)/(n||1)),0),a=_(o);o--;)a[r?o:++s]=t,t+=n;return a}function vi(t,e){var n="";if(!t||e<1||e>de)return n;do e%2&&(n+=t),e=Vn(e/2),e&&(t+=t);while(e);return n}function b(t,e){return bi(nf(t,e,mt),t+"")}function Ac(t){return as(je(t))}function mc(t,e){var n=je(t);return gr(n,Ce(e,0,n.length))}function En(t,e,n,r){if(!j(t))return t;e=Ee(e,t);for(var s=-1,o=e.length,a=o-1,c=t;c!=null&&++s<o;){var d=jt(e[s]),I=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return t;if(s!=a){var T=c[d];I=r?r(T,d,c):i,I===i&&(I=j(T)?T:ae(e[s+1])?[]:{})}vn(c,d,I),c=c[d]}return t}var xs=Qn?function(t,e){return Qn.set(t,e),t}:mt,wc=Zn?function(t,e){return Zn(t,"toString",{configurable:!0,enumerable:!1,value:zi(e),writable:!0})}:mt;function yc(t){return gr(je(t))}function Wt(t,e,n){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),n=n>s?s:n,n<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var o=_(s);++r<s;)o[r]=t[r+e];return o}function xc(t,e){var n;return Te(t,function(r,s,o){return n=e(r,s,o),!n}),!!n}function ir(t,e,n){var r=0,s=t==null?r:t.length;if(typeof e=="number"&&e===e&&s<=Lo){for(;r<s;){var o=r+s>>>1,a=t[o];a!==null&&!Ct(a)&&(n?a<=e:a<e)?r=o+1:s=o}return s}return Ii(t,e,mt,n)}function Ii(t,e,n,r){var s=0,o=t==null?0:t.length;if(o===0)return 0;e=n(e);for(var a=e!==e,c=e===null,d=Ct(e),I=e===i;s<o;){var T=Vn((s+o)/2),E=n(t[T]),A=E!==i,w=E===null,x=E===E,N=Ct(E);if(a)var O=r||x;else I?O=x&&(r||A):c?O=x&&A&&(r||!w):d?O=x&&A&&!w&&(r||!N):w||N?O=!1:O=r?E<=e:E<e;O?s=T+1:o=T}return ht(o,Oo)}function Os(t,e){for(var n=-1,r=t.length,s=0,o=[];++n<r;){var a=t[n],c=e?e(a):a;if(!n||!Xt(c,d)){var d=c;o[s++]=a===0?0:a}}return o}function Ls(t){return typeof t=="number"?t:Ct(t)?Ln:+t}function Pt(t){if(typeof t=="string")return t;if(P(t))return V(t,Pt)+"";if(Ct(t))return fs?fs.call(t):"";var e=t+"";return e=="0"&&1/t==-ye?"-0":e}function Se(t,e,n){var r=-1,s=Mn,o=t.length,a=!0,c=[],d=c;if(n)a=!1,s=Xr;else if(o>=p){var I=e?null:Bc(t);if(I)return Gn(I);a=!1,s=cn,d=new Pe}else d=e?[]:c;t:for(;++r<o;){var T=t[r],E=e?e(T):T;if(T=n||T!==0?T:0,a&&E===E){for(var A=d.length;A--;)if(d[A]===E)continue t;e&&d.push(E),c.push(T)}else s(d,E,n)||(d!==c&&d.push(E),c.push(T))}return c}function Ti(t,e){return e=Ee(e,t),t=rf(t,e),t==null||delete t[jt(Ht(e))]}function Ps(t,e,n,r){return En(t,e,n(De(t,e)),r)}function ur(t,e,n,r){for(var s=t.length,o=r?s:-1;(r?o--:++o<s)&&e(t[o],o,t););return n?Wt(t,r?0:o,r?o+1:s):Wt(t,r?o+1:0,r?s:o)}function Cs(t,e){var n=t;return n instanceof U&&(n=n.value()),Zr(e,function(r,s){return s.func.apply(s.thisArg,pe([r],s.args))},n)}function Si(t,e,n){var r=t.length;if(r<2)return r?Se(t[0]):[];for(var s=-1,o=_(r);++s<r;)for(var a=t[s],c=-1;++c<r;)c!=s&&(o[s]=In(o[s]||a,t[c],e,n));return Se(at(o,1),e,n)}function Ds(t,e,n){for(var r=-1,s=t.length,o=e.length,a={};++r<s;){var c=r<o?e[r]:i;n(a,t[r],c)}return a}function Ei(t){return et(t)?t:[]}function Ri(t){return typeof t=="function"?t:mt}function Ee(t,e){return P(t)?t:Ci(t,e)?[t]:of(H(t))}var Oc=b;function Re(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:Wt(t,e,n)}var Ns=_l||function(t){return ot.clearTimeout(t)};function bs(t,e){if(e)return t.slice();var n=t.length,r=es?es(n):new t.constructor(n);return t.copy(r),r}function Ai(t){var e=new t.constructor(t.byteLength);return new $n(e).set(new $n(t)),e}function Lc(t,e){var n=e?Ai(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Pc(t){var e=new t.constructor(t.source,vu.exec(t));return e.lastIndex=t.lastIndex,e}function Cc(t){return pn?K(pn.call(t)):{}}function Fs(t,e){var n=e?Ai(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Us(t,e){if(t!==e){var n=t!==i,r=t===null,s=t===t,o=Ct(t),a=e!==i,c=e===null,d=e===e,I=Ct(e);if(!c&&!I&&!o&&t>e||o&&a&&d&&!c&&!I||r&&a&&d||!n&&d||!s)return 1;if(!r&&!o&&!I&&t<e||I&&n&&s&&!r&&!o||c&&n&&s||!a&&s||!d)return-1}return 0}function Dc(t,e,n){for(var r=-1,s=t.criteria,o=e.criteria,a=s.length,c=n.length;++r<a;){var d=Us(s[r],o[r]);if(d){if(r>=c)return d;var I=n[r];return d*(I=="desc"?-1:1)}}return t.index-e.index}function Ms(t,e,n,r){for(var s=-1,o=t.length,a=n.length,c=-1,d=e.length,I=it(o-a,0),T=_(d+I),E=!r;++c<d;)T[c]=e[c];for(;++s<a;)(E||s<o)&&(T[n[s]]=t[s]);for(;I--;)T[c++]=t[s++];return T}function Bs(t,e,n,r){for(var s=-1,o=t.length,a=-1,c=n.length,d=-1,I=e.length,T=it(o-c,0),E=_(T+I),A=!r;++s<T;)E[s]=t[s];for(var w=s;++d<I;)E[w+d]=e[d];for(;++a<c;)(A||s<o)&&(E[w+n[a]]=t[s++]);return E}function Et(t,e){var n=-1,r=t.length;for(e||(e=_(r));++n<r;)e[n]=t[n];return e}function kt(t,e,n,r){var s=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var c=e[o],d=r?r(n[c],t[c],c,n,t):i;d===i&&(d=t[c]),s?se(n,c,d):vn(n,c,d)}return n}function Nc(t,e){return kt(t,Pi(t),e)}function bc(t,e){return kt(t,Qs(t),e)}function sr(t,e){return function(n,r){var s=P(n)?Ga:nc,o=e?e():{};return s(n,t,y(r,2),o)}}function Je(t){return b(function(e,n){var r=-1,s=n.length,o=s>1?n[s-1]:i,a=s>2?n[2]:i;for(o=t.length>3&&typeof o=="function"?(s--,o):i,a&&pt(n[0],n[1],a)&&(o=s<3?i:o,s=1),e=K(e);++r<s;){var c=n[r];c&&t(e,c,r,o)}return e})}function Gs(t,e){return function(n,r){if(n==null)return n;if(!Rt(n))return t(n,r);for(var s=n.length,o=e?s:-1,a=K(n);(e?o--:++o<s)&&r(a[o],o,a)!==!1;);return n}}function Ws(t){return function(e,n,r){for(var s=-1,o=K(e),a=r(e),c=a.length;c--;){var d=a[t?c:++s];if(n(o[d],d,o)===!1)break}return e}}function Fc(t,e,n){var r=e&ct,s=Rn(t);function o(){var a=this&&this!==ot&&this instanceof o?s:t;return a.apply(r?n:this,arguments)}return o}function Hs(t){return function(e){e=H(e);var n=qe(e)?$t(e):i,r=n?n[0]:e.charAt(0),s=n?Re(n,1).join(""):e.slice(1);return r[t]()+s}}function Ve(t){return function(e){return Zr(Wf(Gf(e).replace(wa,"")),t,"")}}function Rn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ze(t.prototype),r=t.apply(n,e);return j(r)?r:n}}function Uc(t,e,n){var r=Rn(t);function s(){for(var o=arguments.length,a=_(o),c=o,d=Qe(s);c--;)a[c]=arguments[c];var I=o<3&&a[0]!==d&&a[o-1]!==d?[]:ve(a,d);if(o-=I.length,o<n)return Ks(t,e,fr,s.placeholder,i,a,I,i,i,n-o);var T=this&&this!==ot&&this instanceof s?r:t;return Ot(T,this,a)}return s}function qs(t){return function(e,n,r){var s=K(e);if(!Rt(e)){var o=y(n,3);e=st(e),n=function(c){return o(s[c],c,s)}}var a=t(e,n,r);return a>-1?s[o?e[a]:a]:i}}function Ys(t){return oe(function(e){var n=e.length,r=n,s=Bt.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if(typeof o!="function")throw new Mt(R);if(s&&!a&&cr(o)=="wrapper")var a=new Bt([],!0)}for(r=a?r:n;++r<n;){o=e[r];var c=cr(o),d=c=="wrapper"?Oi(o):i;d&&Di(d[0])&&d[1]==($|Tt|St|ne)&&!d[4].length&&d[9]==1?a=a[cr(d[0])].apply(a,d[3]):a=o.length==1&&Di(o)?a[c]():a.thru(o)}return function(){var I=arguments,T=I[0];if(a&&I.length==1&&P(T))return a.plant(T).value();for(var E=0,A=n?e[E].apply(this,I):T;++E<n;)A=e[E].call(this,A);return A}})}function fr(t,e,n,r,s,o,a,c,d,I){var T=e&$,E=e&ct,A=e&yt,w=e&(Tt|ee),x=e&Me,N=A?i:Rn(t);function O(){for(var F=arguments.length,M=_(F),Dt=F;Dt--;)M[Dt]=arguments[Dt];if(w)var vt=Qe(O),Nt=Za(M,vt);if(r&&(M=Ms(M,r,s,w)),o&&(M=Bs(M,o,a,w)),F-=Nt,w&&F<I){var nt=ve(M,vt);return Ks(t,e,fr,O.placeholder,n,M,nt,c,d,I-F)}var Zt=E?n:this,he=A?Zt[t]:t;return F=M.length,c?M=nh(M,c):x&&F>1&&M.reverse(),T&&d<F&&(M.length=d),this&&this!==ot&&this instanceof O&&(he=N||Rn(he)),he.apply(Zt,M)}return O}function zs(t,e){return function(n,r){return lc(n,t,e(r),{})}}function or(t,e){return function(n,r){var s;if(n===i&&r===i)return e;if(n!==i&&(s=n),r!==i){if(s===i)return r;typeof n=="string"||typeof r=="string"?(n=Pt(n),r=Pt(r)):(n=Ls(n),r=Ls(r)),s=t(n,r)}return s}}function mi(t){return oe(function(e){return e=V(e,Lt(y())),b(function(n){var r=this;return t(e,function(s){return Ot(s,r,n)})})})}function ar(t,e){e=e===i?" ":Pt(e);var n=e.length;if(n<2)return n?vi(e,t):e;var r=vi(e,Jn(t/Ye(e)));return qe(e)?Re($t(r),0,t).join(""):r.slice(0,t)}function Mc(t,e,n,r){var s=e&ct,o=Rn(t);function a(){for(var c=-1,d=arguments.length,I=-1,T=r.length,E=_(T+d),A=this&&this!==ot&&this instanceof a?o:t;++I<T;)E[I]=r[I];for(;d--;)E[I++]=arguments[++c];return Ot(A,s?n:this,E)}return a}function $s(t){return function(e,n,r){return r&&typeof r!="number"&&pt(e,n,r)&&(n=r=i),e=ce(e),n===i?(n=e,e=0):n=ce(n),r=r===i?e<n?1:-1:ce(r),Rc(e,n,r,t)}}function lr(t){return function(e,n){return typeof e=="string"&&typeof n=="string"||(e=qt(e),n=qt(n)),t(e,n)}}function Ks(t,e,n,r,s,o,a,c,d,I){var T=e&Tt,E=T?a:i,A=T?i:a,w=T?o:i,x=T?i:o;e|=T?St:xt,e&=~(T?xt:St),e&we||(e&=-4);var N=[t,e,s,w,E,x,A,c,d,I],O=n.apply(i,N);return Di(t)&&uf(O,N),O.placeholder=r,sf(O,t,e)}function wi(t){var e=rt[t];return function(n,r){if(n=qt(n),r=r==null?0:ht(D(r),292),r&&us(n)){var s=(H(n)+"e").split("e"),o=e(s[0]+"e"+(+s[1]+r));return s=(H(o)+"e").split("e"),+(s[0]+"e"+(+s[1]-r))}return e(n)}}var Bc=Ke&&1/Gn(new Ke([,-0]))[1]==ye?function(t){return new Ke(t)}:Xi;function Xs(t){return function(e){var n=gt(e);return n==Yt?ei(e):n==zt?el(e):Xa(e,t(e))}}function fe(t,e,n,r,s,o,a,c){var d=e&yt;if(!d&&typeof t!="function")throw new Mt(R);var I=r?r.length:0;if(I||(e&=-97,r=s=i),a=a===i?a:it(D(a),0),c=c===i?c:D(c),I-=s?s.length:0,e&xt){var T=r,E=s;r=s=i}var A=d?i:Oi(t),w=[t,e,n,r,s,T,E,o,a,c];if(A&&jc(w,A),t=w[0],e=w[1],n=w[2],r=w[3],s=w[4],c=w[9]=w[9]===i?d?0:t.length:it(w[9]-I,0),!c&&e&(Tt|ee)&&(e&=-25),!e||e==ct)var x=Fc(t,e,n);else e==Tt||e==ee?x=Uc(t,e,c):(e==St||e==(ct|St))&&!s.length?x=Mc(t,e,n,r):x=fr.apply(i,w);var N=A?xs:uf;return sf(N(x,w),t,e)}function Zs(t,e,n,r){return t===i||Xt(t,$e[n])&&!Y.call(r,n)?e:t}function Js(t,e,n,r,s,o){return j(t)&&j(e)&&(o.set(e,t),rr(t,e,i,Js,o),o.delete(e)),t}function Gc(t){return wn(t)?i:t}function Vs(t,e,n,r,s,o){var a=n&Jt,c=t.length,d=e.length;if(c!=d&&!(a&&d>c))return!1;var I=o.get(t),T=o.get(e);if(I&&T)return I==e&&T==t;var E=-1,A=!0,w=n&ge?new Pe:i;for(o.set(t,e),o.set(e,t);++E<c;){var x=t[E],N=e[E];if(r)var O=a?r(N,x,E,e,t,o):r(x,N,E,t,e,o);if(O!==i){if(O)continue;A=!1;break}if(w){if(!Jr(e,function(F,M){if(!cn(w,M)&&(x===F||s(x,F,n,r,o)))return w.push(M)})){A=!1;break}}else if(!(x===N||s(x,N,n,r,o))){A=!1;break}}return o.delete(t),o.delete(e),A}function Wc(t,e,n,r,s,o,a){switch(n){case Ge:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ln:return!(t.byteLength!=e.byteLength||!o(new $n(t),new $n(e)));case rn:case un:case sn:return Xt(+t,+e);case Cn:return t.name==e.name&&t.message==e.message;case fn:case on:return t==e+"";case Yt:var c=ei;case zt:var d=r&Jt;if(c||(c=Gn),t.size!=e.size&&!d)return!1;var I=a.get(t);if(I)return I==e;r|=ge,a.set(t,e);var T=Vs(c(t),c(e),r,s,o,a);return a.delete(t),T;case Nn:if(pn)return pn.call(t)==pn.call(e)}return!1}function Hc(t,e,n,r,s,o){var a=n&Jt,c=yi(t),d=c.length,I=yi(e),T=I.length;if(d!=T&&!a)return!1;for(var E=d;E--;){var A=c[E];if(!(a?A in e:Y.call(e,A)))return!1}var w=o.get(t),x=o.get(e);if(w&&x)return w==e&&x==t;var N=!0;o.set(t,e),o.set(e,t);for(var O=a;++E<d;){A=c[E];var F=t[A],M=e[A];if(r)var Dt=a?r(M,F,A,e,t,o):r(F,M,A,t,e,o);if(!(Dt===i?F===M||s(F,M,n,r,o):Dt)){N=!1;break}O||(O=A=="constructor")}if(N&&!O){var vt=t.constructor,Nt=e.constructor;vt!=Nt&&"constructor"in t&&"constructor"in e&&!(typeof vt=="function"&&vt instanceof vt&&typeof Nt=="function"&&Nt instanceof Nt)&&(N=!1)}return o.delete(t),o.delete(e),N}function oe(t){return bi(nf(t,i,hf),t+"")}function yi(t){return ps(t,st,Pi)}function xi(t){return ps(t,At,Qs)}var Oi=Qn?function(t){return Qn.get(t)}:Xi;function cr(t){for(var e=t.name+"",n=Xe[e],r=Y.call(Xe,e)?n.length:0;r--;){var s=n[r],o=s.func;if(o==null||o==t)return s.name}return e}function Qe(t){var e=Y.call(f,"placeholder")?f:t;return e.placeholder}function y(){var t=f.iteratee||$i;return t=t===$i?Ts:t,arguments.length?t(arguments[0],arguments[1]):t}function hr(t,e){var n=t.__data__;return Jc(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Li(t){for(var e=st(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,tf(s)]}return e}function Ne(t,e){var n=ka(t,e);return Is(n)?n:i}function qc(t){var e=Y.call(t,Oe),n=t[Oe];try{t[Oe]=i;var r=!0}catch{}var s=Yn.call(t);return r&&(e?t[Oe]=n:delete t[Oe]),s}var Pi=ri?function(t){return t==null?[]:(t=K(t),_e(ri(t),function(e){return rs.call(t,e)}))}:Zi,Qs=ri?function(t){for(var e=[];t;)pe(e,Pi(t)),t=Kn(t);return e}:Zi,gt=_t;(ii&&gt(new ii(new ArrayBuffer(1)))!=Ge||gn&&gt(new gn)!=Yt||ui&&gt(ui.resolve())!=gu||Ke&&gt(new Ke)!=zt||dn&&gt(new dn)!=an)&&(gt=function(t){var e=_t(t),n=e==re?t.constructor:i,r=n?be(n):"";if(r)switch(r){case ml:return Ge;case wl:return Yt;case yl:return gu;case xl:return zt;case Ol:return an}return e});function Yc(t,e,n){for(var r=-1,s=n.length;++r<s;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=ht(e,t+a);break;case"takeRight":t=it(t,e-a);break}}return{start:t,end:e}}function zc(t){var e=t.match(Vo);return e?e[1].split(Qo):[]}function ks(t,e,n){e=Ee(e,t);for(var r=-1,s=e.length,o=!1;++r<s;){var a=jt(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=s?o:(s=t==null?0:t.length,!!s&&Tr(s)&&ae(a,s)&&(P(t)||Fe(t)))}function $c(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Y.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function js(t){return typeof t.constructor=="function"&&!An(t)?Ze(Kn(t)):{}}function Kc(t,e,n){var r=t.constructor;switch(e){case ln:return Ai(t);case rn:case un:return new r(+t);case Ge:return Lc(t,n);case Lr:case Pr:case Cr:case Dr:case Nr:case br:case Fr:case Ur:case Mr:return Fs(t,n);case Yt:return new r;case sn:case on:return new r(t);case fn:return Pc(t);case zt:return new r;case Nn:return Cc(t)}}function Xc(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Jo,`{
/* [wrapped with `+e+`] */
`)}function Zc(t){return P(t)||Fe(t)||!!(is&&t&&t[is])}function ae(t,e){var n=typeof t;return e=e??de,!!e&&(n=="number"||n!="symbol"&&sa.test(t))&&t>-1&&t%1==0&&t<e}function pt(t,e,n){if(!j(n))return!1;var r=typeof e;return(r=="number"?Rt(n)&&ae(e,n.length):r=="string"&&e in n)?Xt(n[e],t):!1}function Ci(t,e){if(P(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ct(t)?!0:$o.test(t)||!zo.test(t)||e!=null&&t in K(e)}function Jc(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Di(t){var e=cr(t),n=f[e];if(typeof n!="function"||!(e in U.prototype))return!1;if(t===n)return!0;var r=Oi(n);return!!r&&t===r[0]}function Vc(t){return!!ts&&ts in t}var Qc=Hn?le:Ji;function An(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||$e;return t===n}function tf(t){return t===t&&!j(t)}function ef(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==i||t in K(n))}}function kc(t){var e=vr(t,function(r){return n.size===G&&n.clear(),r}),n=e.cache;return e}function jc(t,e){var n=t[1],r=e[1],s=n|r,o=s<(ct|yt|$),a=r==$&&n==Tt||r==$&&n==ne&&t[7].length<=e[8]||r==($|ne)&&e[7].length<=e[8]&&n==Tt;if(!(o||a))return t;r&ct&&(t[2]=e[2],s|=n&ct?0:we);var c=e[3];if(c){var d=t[3];t[3]=d?Ms(d,c,e[4]):c,t[4]=d?ve(t[3],z):e[4]}return c=e[5],c&&(d=t[5],t[5]=d?Bs(d,c,e[6]):c,t[6]=d?ve(t[5],z):e[6]),c=e[7],c&&(t[7]=c),r&$&&(t[8]=t[8]==null?e[8]:ht(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=s,t}function th(t){var e=[];if(t!=null)for(var n in K(t))e.push(n);return e}function eh(t){return Yn.call(t)}function nf(t,e,n){return e=it(e===i?t.length-1:e,0),function(){for(var r=arguments,s=-1,o=it(r.length-e,0),a=_(o);++s<o;)a[s]=r[e+s];s=-1;for(var c=_(e+1);++s<e;)c[s]=r[s];return c[e]=n(a),Ot(t,this,c)}}function rf(t,e){return e.length<2?t:De(t,Wt(e,0,-1))}function nh(t,e){for(var n=t.length,r=ht(e.length,n),s=Et(t);r--;){var o=e[r];t[r]=ae(o,n)?s[o]:i}return t}function Ni(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var uf=ff(xs),mn=vl||function(t,e){return ot.setTimeout(t,e)},bi=ff(wc);function sf(t,e,n){var r=e+"";return bi(t,Xc(r,rh(zc(r),n)))}function ff(t){var e=0,n=0;return function(){var r=El(),s=mo-(r-n);if(n=r,s>0){if(++e>=Ao)return arguments[0]}else e=0;return t.apply(i,arguments)}}function gr(t,e){var n=-1,r=t.length,s=r-1;for(e=e===i?r:e;++n<e;){var o=pi(n,s),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var of=kc(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Ko,function(n,r,s,o){e.push(s?o.replace(ta,"$1"):r||n)}),e});function jt(t){if(typeof t=="string"||Ct(t))return t;var e=t+"";return e=="0"&&1/t==-ye?"-0":e}function be(t){if(t!=null){try{return qn.call(t)}catch{}try{return t+""}catch{}}return""}function rh(t,e){return Ut(Po,function(n){var r="_."+n[0];e&n[1]&&!Mn(t,r)&&t.push(r)}),t.sort()}function af(t){if(t instanceof U)return t.clone();var e=new Bt(t.__wrapped__,t.__chain__);return e.__actions__=Et(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function ih(t,e,n){(n?pt(t,e,n):e===i)?e=1:e=it(D(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var s=0,o=0,a=_(Jn(r/e));s<r;)a[o++]=Wt(t,s,s+=e);return a}function uh(t){for(var e=-1,n=t==null?0:t.length,r=0,s=[];++e<n;){var o=t[e];o&&(s[r++]=o)}return s}function sh(){var t=arguments.length;if(!t)return[];for(var e=_(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return pe(P(n)?Et(n):[n],at(e,1))}var fh=b(function(t,e){return et(t)?In(t,at(e,1,et,!0)):[]}),oh=b(function(t,e){var n=Ht(e);return et(n)&&(n=i),et(t)?In(t,at(e,1,et,!0),y(n,2)):[]}),ah=b(function(t,e){var n=Ht(e);return et(n)&&(n=i),et(t)?In(t,at(e,1,et,!0),i,n):[]});function lh(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===i?1:D(e),Wt(t,e<0?0:e,r)):[]}function ch(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===i?1:D(e),e=r-e,Wt(t,0,e<0?0:e)):[]}function hh(t,e){return t&&t.length?ur(t,y(e,3),!0,!0):[]}function gh(t,e){return t&&t.length?ur(t,y(e,3),!0):[]}function dh(t,e,n,r){var s=t==null?0:t.length;return s?(n&&typeof n!="number"&&pt(t,e,n)&&(n=0,r=s),sc(t,e,n,r)):[]}function lf(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var s=n==null?0:D(n);return s<0&&(s=it(r+s,0)),Bn(t,y(e,3),s)}function cf(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var s=r-1;return n!==i&&(s=D(n),s=n<0?it(r+s,0):ht(s,r-1)),Bn(t,y(e,3),s,!0)}function hf(t){var e=t==null?0:t.length;return e?at(t,1):[]}function _h(t){var e=t==null?0:t.length;return e?at(t,ye):[]}function ph(t,e){var n=t==null?0:t.length;return n?(e=e===i?1:D(e),at(t,e)):[]}function vh(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var s=t[e];r[s[0]]=s[1]}return r}function gf(t){return t&&t.length?t[0]:i}function Ih(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var s=n==null?0:D(n);return s<0&&(s=it(r+s,0)),He(t,e,s)}function Th(t){var e=t==null?0:t.length;return e?Wt(t,0,-1):[]}var Sh=b(function(t){var e=V(t,Ei);return e.length&&e[0]===t[0]?ci(e):[]}),Eh=b(function(t){var e=Ht(t),n=V(t,Ei);return e===Ht(n)?e=i:n.pop(),n.length&&n[0]===t[0]?ci(n,y(e,2)):[]}),Rh=b(function(t){var e=Ht(t),n=V(t,Ei);return e=typeof e=="function"?e:i,e&&n.pop(),n.length&&n[0]===t[0]?ci(n,i,e):[]});function Ah(t,e){return t==null?"":Tl.call(t,e)}function Ht(t){var e=t==null?0:t.length;return e?t[e-1]:i}function mh(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var s=r;return n!==i&&(s=D(n),s=s<0?it(r+s,0):ht(s,r-1)),e===e?rl(t,e,s):Bn(t,Ku,s,!0)}function wh(t,e){return t&&t.length?As(t,D(e)):i}var yh=b(df);function df(t,e){return t&&t.length&&e&&e.length?_i(t,e):t}function xh(t,e,n){return t&&t.length&&e&&e.length?_i(t,e,y(n,2)):t}function Oh(t,e,n){return t&&t.length&&e&&e.length?_i(t,e,i,n):t}var Lh=oe(function(t,e){var n=t==null?0:t.length,r=fi(t,e);return ys(t,V(e,function(s){return ae(s,n)?+s:s}).sort(Us)),r});function Ph(t,e){var n=[];if(!(t&&t.length))return n;var r=-1,s=[],o=t.length;for(e=y(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),s.push(r))}return ys(t,s),n}function Fi(t){return t==null?t:Al.call(t)}function Ch(t,e,n){var r=t==null?0:t.length;return r?(n&&typeof n!="number"&&pt(t,e,n)?(e=0,n=r):(e=e==null?0:D(e),n=n===i?r:D(n)),Wt(t,e,n)):[]}function Dh(t,e){return ir(t,e)}function Nh(t,e,n){return Ii(t,e,y(n,2))}function bh(t,e){var n=t==null?0:t.length;if(n){var r=ir(t,e);if(r<n&&Xt(t[r],e))return r}return-1}function Fh(t,e){return ir(t,e,!0)}function Uh(t,e,n){return Ii(t,e,y(n,2),!0)}function Mh(t,e){var n=t==null?0:t.length;if(n){var r=ir(t,e,!0)-1;if(Xt(t[r],e))return r}return-1}function Bh(t){return t&&t.length?Os(t):[]}function Gh(t,e){return t&&t.length?Os(t,y(e,2)):[]}function Wh(t){var e=t==null?0:t.length;return e?Wt(t,1,e):[]}function Hh(t,e,n){return t&&t.length?(e=n||e===i?1:D(e),Wt(t,0,e<0?0:e)):[]}function qh(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===i?1:D(e),e=r-e,Wt(t,e<0?0:e,r)):[]}function Yh(t,e){return t&&t.length?ur(t,y(e,3),!1,!0):[]}function zh(t,e){return t&&t.length?ur(t,y(e,3)):[]}var $h=b(function(t){return Se(at(t,1,et,!0))}),Kh=b(function(t){var e=Ht(t);return et(e)&&(e=i),Se(at(t,1,et,!0),y(e,2))}),Xh=b(function(t){var e=Ht(t);return e=typeof e=="function"?e:i,Se(at(t,1,et,!0),i,e)});function Zh(t){return t&&t.length?Se(t):[]}function Jh(t,e){return t&&t.length?Se(t,y(e,2)):[]}function Vh(t,e){return e=typeof e=="function"?e:i,t&&t.length?Se(t,i,e):[]}function Ui(t){if(!(t&&t.length))return[];var e=0;return t=_e(t,function(n){if(et(n))return e=it(n.length,e),!0}),jr(e,function(n){return V(t,Vr(n))})}function _f(t,e){if(!(t&&t.length))return[];var n=Ui(t);return e==null?n:V(n,function(r){return Ot(e,i,r)})}var Qh=b(function(t,e){return et(t)?In(t,e):[]}),kh=b(function(t){return Si(_e(t,et))}),jh=b(function(t){var e=Ht(t);return et(e)&&(e=i),Si(_e(t,et),y(e,2))}),tg=b(function(t){var e=Ht(t);return e=typeof e=="function"?e:i,Si(_e(t,et),i,e)}),eg=b(Ui);function ng(t,e){return Ds(t||[],e||[],vn)}function rg(t,e){return Ds(t||[],e||[],En)}var ig=b(function(t){var e=t.length,n=e>1?t[e-1]:i;return n=typeof n=="function"?(t.pop(),n):i,_f(t,n)});function pf(t){var e=f(t);return e.__chain__=!0,e}function ug(t,e){return e(t),t}function dr(t,e){return e(t)}var sg=oe(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,s=function(o){return fi(o,t)};return e>1||this.__actions__.length||!(r instanceof U)||!ae(n)?this.thru(s):(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:dr,args:[s],thisArg:i}),new Bt(r,this.__chain__).thru(function(o){return e&&!o.length&&o.push(i),o}))});function fg(){return pf(this)}function og(){return new Bt(this.value(),this.__chain__)}function ag(){this.__values__===i&&(this.__values__=Pf(this.value()));var t=this.__index__>=this.__values__.length,e=t?i:this.__values__[this.__index__++];return{done:t,value:e}}function lg(){return this}function cg(t){for(var e,n=this;n instanceof jn;){var r=af(n);r.__index__=0,r.__values__=i,e?s.__wrapped__=r:e=r;var s=r;n=n.__wrapped__}return s.__wrapped__=t,e}function hg(){var t=this.__wrapped__;if(t instanceof U){var e=t;return this.__actions__.length&&(e=new U(this)),e=e.reverse(),e.__actions__.push({func:dr,args:[Fi],thisArg:i}),new Bt(e,this.__chain__)}return this.thru(Fi)}function gg(){return Cs(this.__wrapped__,this.__actions__)}var dg=sr(function(t,e,n){Y.call(t,n)?++t[n]:se(t,n,1)});function _g(t,e,n){var r=P(t)?zu:uc;return n&&pt(t,e,n)&&(e=i),r(t,y(e,3))}function pg(t,e){var n=P(t)?_e:ds;return n(t,y(e,3))}var vg=qs(lf),Ig=qs(cf);function Tg(t,e){return at(_r(t,e),1)}function Sg(t,e){return at(_r(t,e),ye)}function Eg(t,e,n){return n=n===i?1:D(n),at(_r(t,e),n)}function vf(t,e){var n=P(t)?Ut:Te;return n(t,y(e,3))}function If(t,e){var n=P(t)?Wa:gs;return n(t,y(e,3))}var Rg=sr(function(t,e,n){Y.call(t,n)?t[n].push(e):se(t,n,[e])});function Ag(t,e,n,r){t=Rt(t)?t:je(t),n=n&&!r?D(n):0;var s=t.length;return n<0&&(n=it(s+n,0)),Sr(t)?n<=s&&t.indexOf(e,n)>-1:!!s&&He(t,e,n)>-1}var mg=b(function(t,e,n){var r=-1,s=typeof e=="function",o=Rt(t)?_(t.length):[];return Te(t,function(a){o[++r]=s?Ot(e,a,n):Tn(a,e,n)}),o}),wg=sr(function(t,e,n){se(t,n,e)});function _r(t,e){var n=P(t)?V:Ss;return n(t,y(e,3))}function yg(t,e,n,r){return t==null?[]:(P(e)||(e=e==null?[]:[e]),n=r?i:n,P(n)||(n=n==null?[]:[n]),ms(t,e,n))}var xg=sr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});function Og(t,e,n){var r=P(t)?Zr:Zu,s=arguments.length<3;return r(t,y(e,4),n,s,Te)}function Lg(t,e,n){var r=P(t)?Ha:Zu,s=arguments.length<3;return r(t,y(e,4),n,s,gs)}function Pg(t,e){var n=P(t)?_e:ds;return n(t,Ir(y(e,3)))}function Cg(t){var e=P(t)?as:Ac;return e(t)}function Dg(t,e,n){(n?pt(t,e,n):e===i)?e=1:e=D(e);var r=P(t)?tc:mc;return r(t,e)}function Ng(t){var e=P(t)?ec:yc;return e(t)}function bg(t){if(t==null)return 0;if(Rt(t))return Sr(t)?Ye(t):t.length;var e=gt(t);return e==Yt||e==zt?t.size:gi(t).length}function Fg(t,e,n){var r=P(t)?Jr:xc;return n&&pt(t,e,n)&&(e=i),r(t,y(e,3))}var Ug=b(function(t,e){if(t==null)return[];var n=e.length;return n>1&&pt(t,e[0],e[1])?e=[]:n>2&&pt(e[0],e[1],e[2])&&(e=[e[0]]),ms(t,at(e,1),[])}),pr=pl||function(){return ot.Date.now()};function Mg(t,e){if(typeof e!="function")throw new Mt(R);return t=D(t),function(){if(--t<1)return e.apply(this,arguments)}}function Tf(t,e,n){return e=n?i:e,e=t&&e==null?t.length:e,fe(t,$,i,i,i,i,e)}function Sf(t,e){var n;if(typeof e!="function")throw new Mt(R);return t=D(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Mi=b(function(t,e,n){var r=ct;if(n.length){var s=ve(n,Qe(Mi));r|=St}return fe(t,r,e,n,s)}),Ef=b(function(t,e,n){var r=ct|yt;if(n.length){var s=ve(n,Qe(Ef));r|=St}return fe(e,r,t,n,s)});function Rf(t,e,n){e=n?i:e;var r=fe(t,Tt,i,i,i,i,i,e);return r.placeholder=Rf.placeholder,r}function Af(t,e,n){e=n?i:e;var r=fe(t,ee,i,i,i,i,i,e);return r.placeholder=Af.placeholder,r}function mf(t,e,n){var r,s,o,a,c,d,I=0,T=!1,E=!1,A=!0;if(typeof t!="function")throw new Mt(R);e=qt(e)||0,j(n)&&(T=!!n.leading,E="maxWait"in n,o=E?it(qt(n.maxWait)||0,e):o,A="trailing"in n?!!n.trailing:A);function w(nt){var Zt=r,he=s;return r=s=i,I=nt,a=t.apply(he,Zt),a}function x(nt){return I=nt,c=mn(F,e),T?w(nt):a}function N(nt){var Zt=nt-d,he=nt-I,Yf=e-Zt;return E?ht(Yf,o-he):Yf}function O(nt){var Zt=nt-d,he=nt-I;return d===i||Zt>=e||Zt<0||E&&he>=o}function F(){var nt=pr();if(O(nt))return M(nt);c=mn(F,N(nt))}function M(nt){return c=i,A&&r?w(nt):(r=s=i,a)}function Dt(){c!==i&&Ns(c),I=0,r=d=s=c=i}function vt(){return c===i?a:M(pr())}function Nt(){var nt=pr(),Zt=O(nt);if(r=arguments,s=this,d=nt,Zt){if(c===i)return x(d);if(E)return Ns(c),c=mn(F,e),w(d)}return c===i&&(c=mn(F,e)),a}return Nt.cancel=Dt,Nt.flush=vt,Nt}var Bg=b(function(t,e){return hs(t,1,e)}),Gg=b(function(t,e,n){return hs(t,qt(e)||0,n)});function Wg(t){return fe(t,Me)}function vr(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new Mt(R);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],o=n.cache;if(o.has(s))return o.get(s);var a=t.apply(this,r);return n.cache=o.set(s,a)||o,a};return n.cache=new(vr.Cache||ue),n}vr.Cache=ue;function Ir(t){if(typeof t!="function")throw new Mt(R);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Hg(t){return Sf(2,t)}var qg=Oc(function(t,e){e=e.length==1&&P(e[0])?V(e[0],Lt(y())):V(at(e,1),Lt(y()));var n=e.length;return b(function(r){for(var s=-1,o=ht(r.length,n);++s<o;)r[s]=e[s].call(this,r[s]);return Ot(t,this,r)})}),Bi=b(function(t,e){var n=ve(e,Qe(Bi));return fe(t,St,i,e,n)}),wf=b(function(t,e){var n=ve(e,Qe(wf));return fe(t,xt,i,e,n)}),Yg=oe(function(t,e){return fe(t,ne,i,i,i,e)});function zg(t,e){if(typeof t!="function")throw new Mt(R);return e=e===i?e:D(e),b(t,e)}function $g(t,e){if(typeof t!="function")throw new Mt(R);return e=e==null?0:it(D(e),0),b(function(n){var r=n[e],s=Re(n,0,e);return r&&pe(s,r),Ot(t,this,s)})}function Kg(t,e,n){var r=!0,s=!0;if(typeof t!="function")throw new Mt(R);return j(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),mf(t,e,{leading:r,maxWait:e,trailing:s})}function Xg(t){return Tf(t,1)}function Zg(t,e){return Bi(Ri(e),t)}function Jg(){if(!arguments.length)return[];var t=arguments[0];return P(t)?t:[t]}function Vg(t){return Gt(t,wt)}function Qg(t,e){return e=typeof e=="function"?e:i,Gt(t,wt,e)}function kg(t){return Gt(t,q|wt)}function jg(t,e){return e=typeof e=="function"?e:i,Gt(t,q|wt,e)}function td(t,e){return e==null||cs(t,e,st(e))}function Xt(t,e){return t===e||t!==t&&e!==e}var ed=lr(li),nd=lr(function(t,e){return t>=e}),Fe=vs((function(){return arguments})())?vs:function(t){return tt(t)&&Y.call(t,"callee")&&!rs.call(t,"callee")},P=_.isArray,rd=Bu?Lt(Bu):cc;function Rt(t){return t!=null&&Tr(t.length)&&!le(t)}function et(t){return tt(t)&&Rt(t)}function id(t){return t===!0||t===!1||tt(t)&&_t(t)==rn}var Ae=Il||Ji,ud=Gu?Lt(Gu):hc;function sd(t){return tt(t)&&t.nodeType===1&&!wn(t)}function fd(t){if(t==null)return!0;if(Rt(t)&&(P(t)||typeof t=="string"||typeof t.splice=="function"||Ae(t)||ke(t)||Fe(t)))return!t.length;var e=gt(t);if(e==Yt||e==zt)return!t.size;if(An(t))return!gi(t).length;for(var n in t)if(Y.call(t,n))return!1;return!0}function od(t,e){return Sn(t,e)}function ad(t,e,n){n=typeof n=="function"?n:i;var r=n?n(t,e):i;return r===i?Sn(t,e,i,n):!!r}function Gi(t){if(!tt(t))return!1;var e=_t(t);return e==Cn||e==Do||typeof t.message=="string"&&typeof t.name=="string"&&!wn(t)}function ld(t){return typeof t=="number"&&us(t)}function le(t){if(!j(t))return!1;var e=_t(t);return e==Dn||e==hu||e==Co||e==bo}function yf(t){return typeof t=="number"&&t==D(t)}function Tr(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=de}function j(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function tt(t){return t!=null&&typeof t=="object"}var xf=Wu?Lt(Wu):dc;function cd(t,e){return t===e||hi(t,e,Li(e))}function hd(t,e,n){return n=typeof n=="function"?n:i,hi(t,e,Li(e),n)}function gd(t){return Of(t)&&t!=+t}function dd(t){if(Qc(t))throw new L(S);return Is(t)}function _d(t){return t===null}function pd(t){return t==null}function Of(t){return typeof t=="number"||tt(t)&&_t(t)==sn}function wn(t){if(!tt(t)||_t(t)!=re)return!1;var e=Kn(t);if(e===null)return!0;var n=Y.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&qn.call(n)==hl}var Wi=Hu?Lt(Hu):_c;function vd(t){return yf(t)&&t>=-de&&t<=de}var Lf=qu?Lt(qu):pc;function Sr(t){return typeof t=="string"||!P(t)&&tt(t)&&_t(t)==on}function Ct(t){return typeof t=="symbol"||tt(t)&&_t(t)==Nn}var ke=Yu?Lt(Yu):vc;function Id(t){return t===i}function Td(t){return tt(t)&&gt(t)==an}function Sd(t){return tt(t)&&_t(t)==Uo}var Ed=lr(di),Rd=lr(function(t,e){return t<=e});function Pf(t){if(!t)return[];if(Rt(t))return Sr(t)?$t(t):Et(t);if(hn&&t[hn])return tl(t[hn]());var e=gt(t),n=e==Yt?ei:e==zt?Gn:je;return n(t)}function ce(t){if(!t)return t===0?t:0;if(t=qt(t),t===ye||t===-ye){var e=t<0?-1:1;return e*xo}return t===t?t:0}function D(t){var e=ce(t),n=e%1;return e===e?n?e-n:e:0}function Cf(t){return t?Ce(D(t),0,Vt):0}function qt(t){if(typeof t=="number")return t;if(Ct(t))return Ln;if(j(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=j(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ju(t);var n=ra.test(t);return n||ua.test(t)?Ma(t.slice(2),n?2:8):na.test(t)?Ln:+t}function Df(t){return kt(t,At(t))}function Ad(t){return t?Ce(D(t),-de,de):t===0?t:0}function H(t){return t==null?"":Pt(t)}var md=Je(function(t,e){if(An(e)||Rt(e)){kt(e,st(e),t);return}for(var n in e)Y.call(e,n)&&vn(t,n,e[n])}),Nf=Je(function(t,e){kt(e,At(e),t)}),Er=Je(function(t,e,n,r){kt(e,At(e),t,r)}),wd=Je(function(t,e,n,r){kt(e,st(e),t,r)}),yd=oe(fi);function xd(t,e){var n=Ze(t);return e==null?n:ls(n,e)}var Od=b(function(t,e){t=K(t);var n=-1,r=e.length,s=r>2?e[2]:i;for(s&&pt(e[0],e[1],s)&&(r=1);++n<r;)for(var o=e[n],a=At(o),c=-1,d=a.length;++c<d;){var I=a[c],T=t[I];(T===i||Xt(T,$e[I])&&!Y.call(t,I))&&(t[I]=o[I])}return t}),Ld=b(function(t){return t.push(i,Js),Ot(bf,i,t)});function Pd(t,e){return $u(t,y(e,3),Qt)}function Cd(t,e){return $u(t,y(e,3),ai)}function Dd(t,e){return t==null?t:oi(t,y(e,3),At)}function Nd(t,e){return t==null?t:_s(t,y(e,3),At)}function bd(t,e){return t&&Qt(t,y(e,3))}function Fd(t,e){return t&&ai(t,y(e,3))}function Ud(t){return t==null?[]:nr(t,st(t))}function Md(t){return t==null?[]:nr(t,At(t))}function Hi(t,e,n){var r=t==null?i:De(t,e);return r===i?n:r}function Bd(t,e){return t!=null&&ks(t,e,fc)}function qi(t,e){return t!=null&&ks(t,e,oc)}var Gd=zs(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=Yn.call(e)),t[e]=n},zi(mt)),Wd=zs(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=Yn.call(e)),Y.call(t,e)?t[e].push(n):t[e]=[n]},y),Hd=b(Tn);function st(t){return Rt(t)?os(t):gi(t)}function At(t){return Rt(t)?os(t,!0):Ic(t)}function qd(t,e){var n={};return e=y(e,3),Qt(t,function(r,s,o){se(n,e(r,s,o),r)}),n}function Yd(t,e){var n={};return e=y(e,3),Qt(t,function(r,s,o){se(n,s,e(r,s,o))}),n}var zd=Je(function(t,e,n){rr(t,e,n)}),bf=Je(function(t,e,n,r){rr(t,e,n,r)}),$d=oe(function(t,e){var n={};if(t==null)return n;var r=!1;e=V(e,function(o){return o=Ee(o,t),r||(r=o.length>1),o}),kt(t,xi(t),n),r&&(n=Gt(n,q|dt|wt,Gc));for(var s=e.length;s--;)Ti(n,e[s]);return n});function Kd(t,e){return Ff(t,Ir(y(e)))}var Xd=oe(function(t,e){return t==null?{}:Sc(t,e)});function Ff(t,e){if(t==null)return{};var n=V(xi(t),function(r){return[r]});return e=y(e),ws(t,n,function(r,s){return e(r,s[0])})}function Zd(t,e,n){e=Ee(e,t);var r=-1,s=e.length;for(s||(s=1,t=i);++r<s;){var o=t==null?i:t[jt(e[r])];o===i&&(r=s,o=n),t=le(o)?o.call(t):o}return t}function Jd(t,e,n){return t==null?t:En(t,e,n)}function Vd(t,e,n,r){return r=typeof r=="function"?r:i,t==null?t:En(t,e,n,r)}var Uf=Xs(st),Mf=Xs(At);function Qd(t,e,n){var r=P(t),s=r||Ae(t)||ke(t);if(e=y(e,4),n==null){var o=t&&t.constructor;s?n=r?new o:[]:j(t)?n=le(o)?Ze(Kn(t)):{}:n={}}return(s?Ut:Qt)(t,function(a,c,d){return e(n,a,c,d)}),n}function kd(t,e){return t==null?!0:Ti(t,e)}function jd(t,e,n){return t==null?t:Ps(t,e,Ri(n))}function t_(t,e,n,r){return r=typeof r=="function"?r:i,t==null?t:Ps(t,e,Ri(n),r)}function je(t){return t==null?[]:ti(t,st(t))}function e_(t){return t==null?[]:ti(t,At(t))}function n_(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=qt(n),n=n===n?n:0),e!==i&&(e=qt(e),e=e===e?e:0),Ce(qt(t),e,n)}function r_(t,e,n){return e=ce(e),n===i?(n=e,e=0):n=ce(n),t=qt(t),ac(t,e,n)}function i_(t,e,n){if(n&&typeof n!="boolean"&&pt(t,e,n)&&(e=n=i),n===i&&(typeof e=="boolean"?(n=e,e=i):typeof t=="boolean"&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=ce(t),e===i?(e=t,t=0):e=ce(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var s=ss();return ht(t+s*(e-t+Ua("1e-"+((s+"").length-1))),e)}return pi(t,e)}var u_=Ve(function(t,e,n){return e=e.toLowerCase(),t+(n?Bf(e):e)});function Bf(t){return Yi(H(t).toLowerCase())}function Gf(t){return t=H(t),t&&t.replace(fa,Ja).replace(ya,"")}function s_(t,e,n){t=H(t),e=Pt(e);var r=t.length;n=n===i?r:Ce(D(n),0,r);var s=n;return n-=e.length,n>=0&&t.slice(n,s)==e}function f_(t){return t=H(t),t&&Ho.test(t)?t.replace(_u,Va):t}function o_(t){return t=H(t),t&&Xo.test(t)?t.replace(Br,"\\$&"):t}var a_=Ve(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),l_=Ve(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),c_=Hs("toLowerCase");function h_(t,e,n){t=H(t),e=D(e);var r=e?Ye(t):0;if(!e||r>=e)return t;var s=(e-r)/2;return ar(Vn(s),n)+t+ar(Jn(s),n)}function g_(t,e,n){t=H(t),e=D(e);var r=e?Ye(t):0;return e&&r<e?t+ar(e-r,n):t}function d_(t,e,n){t=H(t),e=D(e);var r=e?Ye(t):0;return e&&r<e?ar(e-r,n)+t:t}function __(t,e,n){return n||e==null?e=0:e&&(e=+e),Rl(H(t).replace(Gr,""),e||0)}function p_(t,e,n){return(n?pt(t,e,n):e===i)?e=1:e=D(e),vi(H(t),e)}function v_(){var t=arguments,e=H(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var I_=Ve(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});function T_(t,e,n){return n&&typeof n!="number"&&pt(t,e,n)&&(e=n=i),n=n===i?Vt:n>>>0,n?(t=H(t),t&&(typeof e=="string"||e!=null&&!Wi(e))&&(e=Pt(e),!e&&qe(t))?Re($t(t),0,n):t.split(e,n)):[]}var S_=Ve(function(t,e,n){return t+(n?" ":"")+Yi(e)});function E_(t,e,n){return t=H(t),n=n==null?0:Ce(D(n),0,t.length),e=Pt(e),t.slice(n,n+e.length)==e}function R_(t,e,n){var r=f.templateSettings;n&&pt(t,e,n)&&(e=i),t=H(t),e=Er({},e,r,Zs);var s=Er({},e.imports,r.imports,Zs),o=st(s),a=ti(s,o),c,d,I=0,T=e.interpolate||bn,E="__p += '",A=ni((e.escape||bn).source+"|"+T.source+"|"+(T===pu?ea:bn).source+"|"+(e.evaluate||bn).source+"|$","g"),w="//# sourceURL="+(Y.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ca+"]")+`
`;t.replace(A,function(O,F,M,Dt,vt,Nt){return M||(M=Dt),E+=t.slice(I,Nt).replace(oa,Qa),F&&(c=!0,E+=`' +
__e(`+F+`) +
'`),vt&&(d=!0,E+=`';
`+vt+`;
__p += '`),M&&(E+=`' +
((__t = (`+M+`)) == null ? '' : __t) +
'`),I=Nt+O.length,O}),E+=`';
`;var x=Y.call(e,"variable")&&e.variable;if(!x)E=`with (obj) {
`+E+`
}
`;else if(jo.test(x))throw new L(C);E=(d?E.replace(Mo,""):E).replace(Bo,"$1").replace(Go,"$1;"),E="function("+(x||"obj")+`) {
`+(x?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(c?", __e = _.escape":"")+(d?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+E+`return __p
}`;var N=Hf(function(){return W(o,w+"return "+E).apply(i,a)});if(N.source=E,Gi(N))throw N;return N}function A_(t){return H(t).toLowerCase()}function m_(t){return H(t).toUpperCase()}function w_(t,e,n){if(t=H(t),t&&(n||e===i))return Ju(t);if(!t||!(e=Pt(e)))return t;var r=$t(t),s=$t(e),o=Vu(r,s),a=Qu(r,s)+1;return Re(r,o,a).join("")}function y_(t,e,n){if(t=H(t),t&&(n||e===i))return t.slice(0,ju(t)+1);if(!t||!(e=Pt(e)))return t;var r=$t(t),s=Qu(r,$t(e))+1;return Re(r,0,s).join("")}function x_(t,e,n){if(t=H(t),t&&(n||e===i))return t.replace(Gr,"");if(!t||!(e=Pt(e)))return t;var r=$t(t),s=Vu(r,$t(e));return Re(r,s).join("")}function O_(t,e){var n=Or,r=Ro;if(j(e)){var s="separator"in e?e.separator:s;n="length"in e?D(e.length):n,r="omission"in e?Pt(e.omission):r}t=H(t);var o=t.length;if(qe(t)){var a=$t(t);o=a.length}if(n>=o)return t;var c=n-Ye(r);if(c<1)return r;var d=a?Re(a,0,c).join(""):t.slice(0,c);if(s===i)return d+r;if(a&&(c+=d.length-c),Wi(s)){if(t.slice(c).search(s)){var I,T=d;for(s.global||(s=ni(s.source,H(vu.exec(s))+"g")),s.lastIndex=0;I=s.exec(T);)var E=I.index;d=d.slice(0,E===i?c:E)}}else if(t.indexOf(Pt(s),c)!=c){var A=d.lastIndexOf(s);A>-1&&(d=d.slice(0,A))}return d+r}function L_(t){return t=H(t),t&&Wo.test(t)?t.replace(du,il):t}var P_=Ve(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Yi=Hs("toUpperCase");function Wf(t,e,n){return t=H(t),e=n?i:e,e===i?ja(t)?fl(t):za(t):t.match(e)||[]}var Hf=b(function(t,e){try{return Ot(t,i,e)}catch(n){return Gi(n)?n:new L(n)}}),C_=oe(function(t,e){return Ut(e,function(n){n=jt(n),se(t,n,Mi(t[n],t))}),t});function D_(t){var e=t==null?0:t.length,n=y();return t=e?V(t,function(r){if(typeof r[1]!="function")throw new Mt(R);return[n(r[0]),r[1]]}):[],b(function(r){for(var s=-1;++s<e;){var o=t[s];if(Ot(o[0],this,r))return Ot(o[1],this,r)}})}function N_(t){return ic(Gt(t,q))}function zi(t){return function(){return t}}function b_(t,e){return t==null||t!==t?e:t}var F_=Ys(),U_=Ys(!0);function mt(t){return t}function $i(t){return Ts(typeof t=="function"?t:Gt(t,q))}function M_(t){return Es(Gt(t,q))}function B_(t,e){return Rs(t,Gt(e,q))}var G_=b(function(t,e){return function(n){return Tn(n,t,e)}}),W_=b(function(t,e){return function(n){return Tn(t,n,e)}});function Ki(t,e,n){var r=st(e),s=nr(e,r);n==null&&!(j(e)&&(s.length||!r.length))&&(n=e,e=t,t=this,s=nr(e,st(e)));var o=!(j(n)&&"chain"in n)||!!n.chain,a=le(t);return Ut(s,function(c){var d=e[c];t[c]=d,a&&(t.prototype[c]=function(){var I=this.__chain__;if(o||I){var T=t(this.__wrapped__),E=T.__actions__=Et(this.__actions__);return E.push({func:d,args:arguments,thisArg:t}),T.__chain__=I,T}return d.apply(t,pe([this.value()],arguments))})}),t}function H_(){return ot._===this&&(ot._=gl),this}function Xi(){}function q_(t){return t=D(t),b(function(e){return As(e,t)})}var Y_=mi(V),z_=mi(zu),$_=mi(Jr);function qf(t){return Ci(t)?Vr(jt(t)):Ec(t)}function K_(t){return function(e){return t==null?i:De(t,e)}}var X_=$s(),Z_=$s(!0);function Zi(){return[]}function Ji(){return!1}function J_(){return{}}function V_(){return""}function Q_(){return!0}function k_(t,e){if(t=D(t),t<1||t>de)return[];var n=Vt,r=ht(t,Vt);e=y(e),t-=Vt;for(var s=jr(r,e);++n<t;)e(n);return s}function j_(t){return P(t)?V(t,jt):Ct(t)?[t]:Et(of(H(t)))}function tp(t){var e=++cl;return H(t)+e}var ep=or(function(t,e){return t+e},0),np=wi("ceil"),rp=or(function(t,e){return t/e},1),ip=wi("floor");function up(t){return t&&t.length?er(t,mt,li):i}function sp(t,e){return t&&t.length?er(t,y(e,2),li):i}function fp(t){return Xu(t,mt)}function op(t,e){return Xu(t,y(e,2))}function ap(t){return t&&t.length?er(t,mt,di):i}function lp(t,e){return t&&t.length?er(t,y(e,2),di):i}var cp=or(function(t,e){return t*e},1),hp=wi("round"),gp=or(function(t,e){return t-e},0);function dp(t){return t&&t.length?kr(t,mt):0}function _p(t,e){return t&&t.length?kr(t,y(e,2)):0}return f.after=Mg,f.ary=Tf,f.assign=md,f.assignIn=Nf,f.assignInWith=Er,f.assignWith=wd,f.at=yd,f.before=Sf,f.bind=Mi,f.bindAll=C_,f.bindKey=Ef,f.castArray=Jg,f.chain=pf,f.chunk=ih,f.compact=uh,f.concat=sh,f.cond=D_,f.conforms=N_,f.constant=zi,f.countBy=dg,f.create=xd,f.curry=Rf,f.curryRight=Af,f.debounce=mf,f.defaults=Od,f.defaultsDeep=Ld,f.defer=Bg,f.delay=Gg,f.difference=fh,f.differenceBy=oh,f.differenceWith=ah,f.drop=lh,f.dropRight=ch,f.dropRightWhile=hh,f.dropWhile=gh,f.fill=dh,f.filter=pg,f.flatMap=Tg,f.flatMapDeep=Sg,f.flatMapDepth=Eg,f.flatten=hf,f.flattenDeep=_h,f.flattenDepth=ph,f.flip=Wg,f.flow=F_,f.flowRight=U_,f.fromPairs=vh,f.functions=Ud,f.functionsIn=Md,f.groupBy=Rg,f.initial=Th,f.intersection=Sh,f.intersectionBy=Eh,f.intersectionWith=Rh,f.invert=Gd,f.invertBy=Wd,f.invokeMap=mg,f.iteratee=$i,f.keyBy=wg,f.keys=st,f.keysIn=At,f.map=_r,f.mapKeys=qd,f.mapValues=Yd,f.matches=M_,f.matchesProperty=B_,f.memoize=vr,f.merge=zd,f.mergeWith=bf,f.method=G_,f.methodOf=W_,f.mixin=Ki,f.negate=Ir,f.nthArg=q_,f.omit=$d,f.omitBy=Kd,f.once=Hg,f.orderBy=yg,f.over=Y_,f.overArgs=qg,f.overEvery=z_,f.overSome=$_,f.partial=Bi,f.partialRight=wf,f.partition=xg,f.pick=Xd,f.pickBy=Ff,f.property=qf,f.propertyOf=K_,f.pull=yh,f.pullAll=df,f.pullAllBy=xh,f.pullAllWith=Oh,f.pullAt=Lh,f.range=X_,f.rangeRight=Z_,f.rearg=Yg,f.reject=Pg,f.remove=Ph,f.rest=zg,f.reverse=Fi,f.sampleSize=Dg,f.set=Jd,f.setWith=Vd,f.shuffle=Ng,f.slice=Ch,f.sortBy=Ug,f.sortedUniq=Bh,f.sortedUniqBy=Gh,f.split=T_,f.spread=$g,f.tail=Wh,f.take=Hh,f.takeRight=qh,f.takeRightWhile=Yh,f.takeWhile=zh,f.tap=ug,f.throttle=Kg,f.thru=dr,f.toArray=Pf,f.toPairs=Uf,f.toPairsIn=Mf,f.toPath=j_,f.toPlainObject=Df,f.transform=Qd,f.unary=Xg,f.union=$h,f.unionBy=Kh,f.unionWith=Xh,f.uniq=Zh,f.uniqBy=Jh,f.uniqWith=Vh,f.unset=kd,f.unzip=Ui,f.unzipWith=_f,f.update=jd,f.updateWith=t_,f.values=je,f.valuesIn=e_,f.without=Qh,f.words=Wf,f.wrap=Zg,f.xor=kh,f.xorBy=jh,f.xorWith=tg,f.zip=eg,f.zipObject=ng,f.zipObjectDeep=rg,f.zipWith=ig,f.entries=Uf,f.entriesIn=Mf,f.extend=Nf,f.extendWith=Er,Ki(f,f),f.add=ep,f.attempt=Hf,f.camelCase=u_,f.capitalize=Bf,f.ceil=np,f.clamp=n_,f.clone=Vg,f.cloneDeep=kg,f.cloneDeepWith=jg,f.cloneWith=Qg,f.conformsTo=td,f.deburr=Gf,f.defaultTo=b_,f.divide=rp,f.endsWith=s_,f.eq=Xt,f.escape=f_,f.escapeRegExp=o_,f.every=_g,f.find=vg,f.findIndex=lf,f.findKey=Pd,f.findLast=Ig,f.findLastIndex=cf,f.findLastKey=Cd,f.floor=ip,f.forEach=vf,f.forEachRight=If,f.forIn=Dd,f.forInRight=Nd,f.forOwn=bd,f.forOwnRight=Fd,f.get=Hi,f.gt=ed,f.gte=nd,f.has=Bd,f.hasIn=qi,f.head=gf,f.identity=mt,f.includes=Ag,f.indexOf=Ih,f.inRange=r_,f.invoke=Hd,f.isArguments=Fe,f.isArray=P,f.isArrayBuffer=rd,f.isArrayLike=Rt,f.isArrayLikeObject=et,f.isBoolean=id,f.isBuffer=Ae,f.isDate=ud,f.isElement=sd,f.isEmpty=fd,f.isEqual=od,f.isEqualWith=ad,f.isError=Gi,f.isFinite=ld,f.isFunction=le,f.isInteger=yf,f.isLength=Tr,f.isMap=xf,f.isMatch=cd,f.isMatchWith=hd,f.isNaN=gd,f.isNative=dd,f.isNil=pd,f.isNull=_d,f.isNumber=Of,f.isObject=j,f.isObjectLike=tt,f.isPlainObject=wn,f.isRegExp=Wi,f.isSafeInteger=vd,f.isSet=Lf,f.isString=Sr,f.isSymbol=Ct,f.isTypedArray=ke,f.isUndefined=Id,f.isWeakMap=Td,f.isWeakSet=Sd,f.join=Ah,f.kebabCase=a_,f.last=Ht,f.lastIndexOf=mh,f.lowerCase=l_,f.lowerFirst=c_,f.lt=Ed,f.lte=Rd,f.max=up,f.maxBy=sp,f.mean=fp,f.meanBy=op,f.min=ap,f.minBy=lp,f.stubArray=Zi,f.stubFalse=Ji,f.stubObject=J_,f.stubString=V_,f.stubTrue=Q_,f.multiply=cp,f.nth=wh,f.noConflict=H_,f.noop=Xi,f.now=pr,f.pad=h_,f.padEnd=g_,f.padStart=d_,f.parseInt=__,f.random=i_,f.reduce=Og,f.reduceRight=Lg,f.repeat=p_,f.replace=v_,f.result=Zd,f.round=hp,f.runInContext=g,f.sample=Cg,f.size=bg,f.snakeCase=I_,f.some=Fg,f.sortedIndex=Dh,f.sortedIndexBy=Nh,f.sortedIndexOf=bh,f.sortedLastIndex=Fh,f.sortedLastIndexBy=Uh,f.sortedLastIndexOf=Mh,f.startCase=S_,f.startsWith=E_,f.subtract=gp,f.sum=dp,f.sumBy=_p,f.template=R_,f.times=k_,f.toFinite=ce,f.toInteger=D,f.toLength=Cf,f.toLower=A_,f.toNumber=qt,f.toSafeInteger=Ad,f.toString=H,f.toUpper=m_,f.trim=w_,f.trimEnd=y_,f.trimStart=x_,f.truncate=O_,f.unescape=L_,f.uniqueId=tp,f.upperCase=P_,f.upperFirst=Yi,f.each=vf,f.eachRight=If,f.first=gf,Ki(f,(function(){var t={};return Qt(f,function(e,n){Y.call(f.prototype,n)||(t[n]=e)}),t})(),{chain:!1}),f.VERSION=l,Ut(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){f[t].placeholder=f}),Ut(["drop","take"],function(t,e){U.prototype[t]=function(n){n=n===i?1:it(D(n),0);var r=this.__filtered__&&!e?new U(this):this.clone();return r.__filtered__?r.__takeCount__=ht(n,r.__takeCount__):r.__views__.push({size:ht(n,Vt),type:t+(r.__dir__<0?"Right":"")}),r},U.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),Ut(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==cu||n==yo;U.prototype[t]=function(s){var o=this.clone();return o.__iteratees__.push({iteratee:y(s,3),type:n}),o.__filtered__=o.__filtered__||r,o}}),Ut(["head","last"],function(t,e){var n="take"+(e?"Right":"");U.prototype[t]=function(){return this[n](1).value()[0]}}),Ut(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");U.prototype[t]=function(){return this.__filtered__?new U(this):this[n](1)}}),U.prototype.compact=function(){return this.filter(mt)},U.prototype.find=function(t){return this.filter(t).head()},U.prototype.findLast=function(t){return this.reverse().find(t)},U.prototype.invokeMap=b(function(t,e){return typeof t=="function"?new U(this):this.map(function(n){return Tn(n,t,e)})}),U.prototype.reject=function(t){return this.filter(Ir(y(t)))},U.prototype.slice=function(t,e){t=D(t);var n=this;return n.__filtered__&&(t>0||e<0)?new U(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(e=D(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},U.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},U.prototype.toArray=function(){return this.take(Vt)},Qt(U.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),s=f[r?"take"+(e=="last"?"Right":""):e],o=r||/^find/.test(e);s&&(f.prototype[e]=function(){var a=this.__wrapped__,c=r?[1]:arguments,d=a instanceof U,I=c[0],T=d||P(a),E=function(F){var M=s.apply(f,pe([F],c));return r&&A?M[0]:M};T&&n&&typeof I=="function"&&I.length!=1&&(d=T=!1);var A=this.__chain__,w=!!this.__actions__.length,x=o&&!A,N=d&&!w;if(!o&&T){a=N?a:new U(this);var O=t.apply(a,c);return O.__actions__.push({func:dr,args:[E],thisArg:i}),new Bt(O,A)}return x&&N?t.apply(this,c):(O=this.thru(E),x?r?O.value()[0]:O.value():O)})}),Ut(["pop","push","shift","sort","splice","unshift"],function(t){var e=Wn[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);f.prototype[t]=function(){var s=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(P(o)?o:[],s)}return this[n](function(a){return e.apply(P(a)?a:[],s)})}}),Qt(U.prototype,function(t,e){var n=f[e];if(n){var r=n.name+"";Y.call(Xe,r)||(Xe[r]=[]),Xe[r].push({name:e,func:n})}}),Xe[fr(i,yt).name]=[{name:"wrapper",func:i}],U.prototype.clone=Ll,U.prototype.reverse=Pl,U.prototype.value=Cl,f.prototype.at=sg,f.prototype.chain=fg,f.prototype.commit=og,f.prototype.next=ag,f.prototype.plant=cg,f.prototype.reverse=hg,f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=gg,f.prototype.first=f.prototype.head,hn&&(f.prototype[hn]=lg),f}),ze=ol();xe?((xe.exports=ze)._=ze,$r._=ze):ot._=ze}).call(Qf)})(tn,tn.exports)),tn.exports}var It=kf();function en(h){return h.toLowerCase().replace(/[^\w\d]+/g,"")}function Rr(h,u){const i=new RegExp(/"(.*?)"/g);let l=u,p=[],S,R=!1;for(;(S=i.exec(u))!==null&&R===!1;){const z=en(String(S[1])),q=jf(h,z);q===void 0?R=!0:(p=p.concat(q),l=l.replace(S[0],""))}if(R)return;const C=en(l),B=to(h,C);return B===void 0?void 0:(p=p.concat(B),p.sort((z,q)=>z-q))}function jf(h,u){if(h.length<u.length)return;const i=h.indexOf(u);if(i!==-1)return It.range(i,i+u.length).map(l=>l)}function to(h,u){if(h.length<u.length)return;const i=Array.from(u),l=[];let p=h,S=0,R=!1;for(const C of i){const B=p.indexOf(C);if(B===-1&&(R=!0),R===!1){l.push(S+B);const G=B+1;S+=G,p=p.substring(G)}}if(!R)return l}class Ar{#t;constructor(u){this.source=u;const i=Ar.composeTransformedHaystackSegments(u);this.#t=i,this.transformed=i.map(l=>l.value).join("").toLowerCase()}getSourceCharacterIndex(u){let i=0;return this.#t.reduce((l,p)=>{if(l!==1/0)return l;const S=i+p.value.length;if(u>=i&&u<=S){const R=u-i;l=p.index+R}return i+=p.value.length,l},1/0)}static composeTransformedHaystackSegments(u){const i=u.matchAll(/[\w\d]+/g),l=[];for(const p of i)l.push({value:p[0],index:p.index,length:p[0].length});return l}}function eo(h,u){return(Array.isArray(h)?h:[h]).map(p=>new Ar(p)).reduce((p,S)=>{if(p!==void 0)return p;const R=Rr(S.transformed,u);if(R===void 0)return p;const C=no(R,S.transformed),B=ro(S,C);return io(B)},void 0)}function no(h,u){const i=[...h],l=[];let p=0;for(;i.length>0&&p<100;){const S=i.at(0);if(S===void 0)throw new Error("Should never get here");let R=1;for(let z=1;z<=i.length;z+=1){const q=i.at(z);q!==void 0&&S+z===q&&(R+=1)}const C=S,B=S+R,G=u.substring(C,B);l.push({index:C,value:G,is_match:!0,length:G.length}),i.splice(0,R),p+=1}return l}function ro(h,u){return u.reduce((i,l,p)=>{if(p===0&&l.index!==0){const G=h.source.substring(0,h.getSourceCharacterIndex(l.index));i.push({index:0,value:G,is_match:!1,length:G.length})}const S=h.getSourceCharacterIndex(l.index),R=h.getSourceCharacterIndex(l.index+l.length),C=h.source.substring(S,R);i.push({index:S,value:C,is_match:!0,length:C.length});const B=u.at(p+1);if(B){const G=h.getSourceCharacterIndex(l.index+l.length),z=h.getSourceCharacterIndex(B.index),q=h.source.substring(G,z);i.push({index:G,value:q,is_match:!1,length:q.length})}else if(S+C.length!==h.source.length){const G=S+C.length,z=h.source.substring(G);i.push({index:G,value:z,is_match:!1,length:z.length})}return i},[])}function io(h){const u=/\S/,i=[...h];return i.forEach((l,p)=>{if(l.is_match){const S=l.value.search(u);if(S!==0){const R=i.at(p-1);R&&(R.length+=S,R.value+=l.value.substring(0,S),l.value=l.value.substring(S),l.index=l.index+S)}}}),i}function uo(h,u){return(Array.isArray(h)?h:[h]).some(l=>{const p=en(l);return Rr(p,u)!==void 0})}function ru({needle:h,haystack:u,Match:i="mark",Miss:l}){const p=bt.useMemo(()=>eo(u,h),[u,h]);return p===void 0?u:p.map((S,R)=>{const C=[S.value,R].join();return S.is_match?typeof i=="string"?lt.jsx(i,{"data-is-match":S.is_match,children:S.value},C):lt.jsx(i,{"data-is-match":S.is_match,segment:S,segmentIndex:R},C):l!==void 0?typeof l=="string"?lt.jsx(l,{"data-is-match":S.is_match,children:S.value},C):lt.jsx(l,{"data-is-match":S.is_match,segment:S,segmentIndex:R},C):S.value})}function so({Match:h="mark",Miss:u,children:i}){const l=me();return l.search.hasSearchTerm===!1?i:lt.jsx(ru,{needle:l.search.searchTerm,haystack:i,Match:h,Miss:u})}function mr(h){return typeof h=="object"&&h!==null&&"sortFn"in h}function xn(h){return typeof h=="object"&&h!==null&&("searchFn"in h||"haystackFn"in h)}function iu(h){return typeof h=="object"&&h!==null&&"filterFn"in h}function uu(h){return typeof h=="object"&&h!==null&&"filterFn"in h&&"_isHydrated"in h}function wr(h){return typeof h=="object"&&h!==null&&"groupFn"in h}function fo(h){return typeof h=="object"&&h!==null&&("rules"in h||"callback"in h)}function oo(h){return typeof h=="object"&&h!==null&&("haystack"in h||"callback"in h)}const Z={INIT:"init",FIRST_USER_INTERACTION:"firstUserInteraction",READY:"ready",CHANGE:"change",SET_ITEMS:"setItems",SET_IS_LOADING:"setIsLoading",SET_IS_DISABLED:"setIsDisabled",SET_CONTEXT:"setContext",SET_SEARCH_TERM:"setSearchTerm",RESET_SEARCH_TERM:"resetSearchTerm",SET_FILTER:"setFilter",SET_SORT_BY:"setSortBy",SET_SORT_BY_DIRECTION:"setSortDirection",SET_GROUP_BY:"setGroupBy",SET_GROUP_SORT_BY_DIRECTION:"setGroupBySortDirection",SET_PAGE:"setPage",SET_NUM_ITEMS_PER_PAGE:"setNumItemsPerPage",SYNC_UPDATED_AT:"syncUpdatedAt"},ft={CORE:"core",SEARCH:"search",FILTERS:"filters",GROUP_BY:"groupBy",SORT_BY:"sortBy",PAGINATION:"pagination"},Q={RULE_NOT_FOUND:"Finder could not locate requested rule",WRONG_RULE_TYPE_FOR_MIXIN:"The requested rule is not valid for this mixin.",NO_SEARCH_RULE_SET:"Unable to set search term; no SearchRule was found.",SETTING_MULTIPLE_FILTER_WITHOUT_ARRAY:"Finder could not set this filter value, as the rule requires an array.",ADDING_OPTION_TO_MULTIPLE_FILTER_WITHOUT_OPTION_VALUE:"Finder could not add to this filter, as no optionValue was passed.",DELETING_OPTION_VALUE_FROM_NON_MULTIPLE_FILTER:"Finder could not delete an option from this filter, as it does not support multiple values.",SETTING_BOOLEAN_FILTER_WITHOUT_BOOLEAN_VALUE:"Finder could not set this filter value, as the rule requires a boolean.",ADDING_OPTION_VALUE_TO_NON_MULTIPLE_FILTER:"Finder could not add to this filter value, as the rule is a boolean.",TOGGLING_OPTION_ON_RULE_WITH_NO_OPTIONS:"Finder could not toggle this filter rule option, as the filter does not have any options.",TOGGLING_OPTION_ON_RULE_WITH_SINGLE_VALUE:"Finder could not toggle this filter rule option, as the rule does not allow multiple values.",TOGGLING_OPTION_THAT_DOES_NOT_EXIST:"Finder could not toggle this filter rule option, as the option was not found.",TOGGLING_OPTION_WITHOUT_PASSING_OPTION:"Finder could not toggle this filter rule option, as the option was not found.",TESTING_OPTIONS_ON_RULE_WITH_NO_OPTIONS:"Finder was unable to test the options for this filter rule. It must be a boolean or have defined options.",INVALID_RULE_WITHOUT_ID:"Init failed: Missing rule id.",INVALID_RULE_SHAPE:"Init failed: Malformed rule definition",INVALID_RULE_DUPLICATE:"Init failed: Duplicate rule id."};class k extends Error{constructor(u,i){const l=`${u} ${JSON.stringify({...i})}`;super(l),this.name="FinderError"}}function ao(h,u){const i=h.length/u.length;let l=1,p=1,S=0;for(let R=0;R<h.length;R+=1)S!==void 0&&h.at(R)===S+1&&(p+=1,p>=l&&(l=p)),S=h.at(R);return{percentOfHaystackMatched:i,longestSequentialSequence:l}}function lo(h,u,i){const l=u.reduce((R,C)=>{if(h.rule?.searchFn===void 0)return R;const B=h.rule.searchFn(C,i),z=(Array.isArray(B)?B.map(en):[en(B)]).reduce((q,dt)=>{const wt=Rr(dt,h.searchTerm);return wt!==void 0&&q.push(ao(wt,dt)),q},[]);if(z.length>0){const dt=It.orderBy(z,["percentOfHaystackMatched","longestSequentialSequence"],["desc","asc"]).at(0);dt&&R.push({item:C,score:dt})}return R},[]),p=l.reduce((R,C)=>(C.score.longestSequentialSequence>R&&(R=C.score.longestSequentialSequence),R),0);return It.orderBy(l,[R=>{const C=R.score.percentOfHaystackMatched*100,B=R.score.longestSequentialSequence/p*100;return C+B}],["desc"]).map(R=>R.item)}class su{#t;constructor({initialSearchTerm:u},i){this.searchTerm=u??"",this.#t=i}get rule(){return this.#t.getRuleBook().rules.find(xn)}get hasSearchRule(){return this.#t.getRuleBook().rules.some(xn)}get hasSearchTerm(){return this.searchTerm!==""}setSearchTerm(u){const i=this.rule;if(!i)throw new k(Q.NO_SEARCH_RULE_SET);if(this.#t.isDisabled())return;const l=this.searchTerm;this.searchTerm=u,l!==u&&this.#t.debouncer(i,()=>{this.#t.touch({source:ft.SEARCH,event:Z.SET_SEARCH_TERM,current:u,initial:l,rule:i})})}reset(){if(this.#t.isDisabled())return;const u=this.searchTerm;this.searchTerm="",this.#t.touch({source:ft.SEARCH,event:Z.RESET_SEARCH_TERM,current:"",initial:u,rule:this.rule})}serialize(){return{searchTerm:this.searchTerm,rule:this.rule}}test(u,i=!1){return this.#t.test({search:{searchTerm:u,rule:this.rule}},i)}static process(u,i,l){return u.rule===void 0||u.searchTerm===""?i:lo(u,i,l)}}function co(h){return{validate(u){if(u!==void 0&&typeof u!="boolean")throw new k(Q.SETTING_BOOLEAN_FILTER_WITHOUT_BOOLEAN_VALUE,{rule:h,value:u});return!0},parse(u){return u===void 0?h.required?!0:h.defaultValue!==void 0?h.defaultValue:!1:u},has(u){return this.parse(u)},toggle(u,i){const l=this.parse(u);if(typeof l!="boolean")throw new k(Q.SETTING_BOOLEAN_FILTER_WITHOUT_BOOLEAN_VALUE,{rule:h,value:l,optionValue:i});return!l},add(u,i){throw new k(Q.ADDING_OPTION_VALUE_TO_NON_MULTIPLE_FILTER,{rule:h,value:u,optionValue:i})},delete(u,i){if(i!==void 0)throw new k(Q.DELETING_OPTION_VALUE_FROM_NON_MULTIPLE_FILTER,{rule:h,value:u,optionValue:i})},isActive(u){return h.required?!0:this.parse(u)===!0}}}function ho(h){return{validate(u){if(u!==void 0&&Array.isArray(u)===!1)throw new k(Q.SETTING_MULTIPLE_FILTER_WITHOUT_ARRAY,{rule:h,value:u});return!0},parse(u){if(u===void 0)return h.required&&Array.isArray(h.options)&&h.options.length>0?[h.options.at(0)?.value]:[];if(Array.isArray(u))return u;throw new k(Q.SETTING_MULTIPLE_FILTER_WITHOUT_ARRAY,{rule:h,value:u})},has(u,i){if(i===void 0)return Array.isArray(u)&&u.length>0;if(Array.isArray(i))return i.every(p=>this.has(h,p));const l=h.options?.find(p=>typeof i=="object"&&"value"in i?p.value===i.value:p.value===i);return Array.isArray(u)&&l!==void 0&&u.includes(l.value)},toggle(u,i){const l=this.parse(u);if(Array.isArray(l)===!1)throw new k(Q.SETTING_MULTIPLE_FILTER_WITHOUT_ARRAY,{rule:h,value:l});if(i===void 0)throw new k(Q.TOGGLING_OPTION_WITHOUT_PASSING_OPTION,{rule:h});if(h.options===void 0)throw new k(Q.TOGGLING_OPTION_ON_RULE_WITH_NO_OPTIONS,{rule:h,optionValue:i});const p=h.options.find(S=>typeof i=="object"&&"value"in i?S.value===i.value:S.value===i);if(p===void 0)throw new k(Q.TOGGLING_OPTION_THAT_DOES_NOT_EXIST,{rule:h,optionValue:i});return l.includes(p.value)?[...l.filter(S=>S!==p.value)]:[...l,p.value]},add(u,i){const l=this.parse(u);if(i===void 0)throw new k(Q.ADDING_OPTION_TO_MULTIPLE_FILTER_WITHOUT_OPTION_VALUE,{rule:h,optionValue:i});const p=h.options?.find(S=>typeof i=="object"&&"value"in i?S.value===i.value:S.value===i);return p!==void 0?l.includes(p.value)===!1?[...l,p.value]:l:[...l,i]},delete(u,i){if(i===void 0)return;const l=this.parse(u),p=h.options?.find(S=>typeof i=="object"&&"value"in i?S.value===i.value:S.value===i);return p!==void 0&&l.includes(p.value)?l.filter(S=>S.value!==p.value):l.filter(S=>S!==i)},isActive(u){return h.required?!0:this.parse(u).length>0}}}function go(h){return{validate(){return!0},parse(u){if(u===void 0&&h.required){if(h.defaultValue)return h.defaultValue;if(Array.isArray(h.options)&&h.options.length>0)return h.options.at(0)?.value}return u},has(u){return u!==void 0},toggle(u,i){throw new k(Q.TOGGLING_OPTION_ON_RULE_WITH_SINGLE_VALUE,{rule:h,value:u,optionValue:i})},add(u,i){throw new k(Q.ADDING_OPTION_VALUE_TO_NON_MULTIPLE_FILTER,{rule:h,value:u,optionValue:i})},delete(u,i){if(i!==void 0)throw new k(Q.DELETING_OPTION_VALUE_FROM_NON_MULTIPLE_FILTER,{rule:h,value:u,optionValue:i})},isActive(u){return h.required?!0:!(u===void 0||typeof u=="string"&&u.trim()==="")}}}function te(h){return h.boolean?co(h):h.multiple?ho(h):go(h)}class fu{#t;#e;constructor({initialFilters:u},i){this.#t=u??{},this.#e=i}set(u,i){if(this.#e.isDisabled())return;const l=this.getRule(u),p=this.get(u),R=typeof i=="string"&&i.trim()===""?void 0:i;te(l).validate(i),!(this.#t[l.id]!==void 0&&this.#t[l.id]===R)&&this.#e.debouncer(l,()=>{this.#t={...this.#t,[l.id]:R},this.#e.touch({source:ft.FILTERS,event:Z.SET_FILTER,current:R,initial:p,rule:l})})}get rules(){return this.#e.getRuleBook().rules.filter(uu)}get activeRules(){return this.rules.filter(u=>te(u).isActive(this.#t[u.id]))}get(u){const i=this.getRule(u),l=this.#t[i.id];return te(i).parse(l)}has(u,i){const l=this.getRule(u),p=this.#t[l.id];return te(l).has(p,i)}getRule(u){const i=this.#e.getRuleBook().getRule(u);if(uu(i)===!1)throw new k(Q.WRONG_RULE_TYPE_FOR_MIXIN,{rule:i});return i}add(u,i){const l=this.getRule(u),p=this.#t[l.id];this.set(l,te(l).add(p,i))}delete(u,i){const l=this.getRule(u),p=this.#t[l.id];this.set(l,te(l).delete(p,i))}isRuleActive(u){const i=this.getRule(u),l=this.#t[i.id];return te(i).isActive(l)}toggle(u,i){const l=this.getRule(u),p=this.#t[l.id],S=te(l).toggle(p,i);this.set(l,S)}test(u){if(this.#e.isLoading())return[];if(u.isAdditive){const i=It.uniqBy([...this.rules,...u.rules],"id"),l={...this.values,...u.values};return this.#e.test({filters:{rules:i,values:l}},!0)}return this.#e.test({filters:{rules:u.rules,values:u.values??{}}})}testRule({rule:u,value:i,...l}){const p=this.getRule(u);return this.test({rules:[p],values:{[p.id]:i},...l})}testRuleOptions(u,i){if(this.#e.isLoading())return new Map;const l=this.getRule(u);if(l.boolean===!0){const p=new Map;return p.set(!0,this.testRule({rule:l,value:!0})),p.set(!1,this.testRule({rule:l,value:!1})),p}if(Array.isArray(l.options)){const p=new Map;return l.options.forEach(S=>{let R;l.multiple?R=[S.value]:R=S.value,p.set(S,this.testRule({rule:l,value:R,isAdditive:i}))}),p}throw new k(Q.TESTING_OPTIONS_ON_RULE_WITH_NO_OPTIONS,l)}get values(){return this.rules.reduce((u,i)=>(u[i.id]=this.get(i),u),{})}get raw(){return this.#t}serialize(){return{rules:this.rules,values:this.values}}static process(u,i,l){const p=u.rules.filter(S=>te(S).isActive(u.values[S.id]));return p.length===0?i:i.filter(S=>p.every(R=>R.filterFn(S,u.values[R.id],l)))}}const yr=[void 0,"desc","asc"];class ou{#t;#e;#n;constructor({initialSortBy:u,initialSortDirection:i},l){this.#n=l,u&&(this.#t=this.getRule(u)),this.#e=i}getRule(u){const i=this.#n.getRuleBook().getRule(u);if(mr(i)===!1)throw new k(Q.WRONG_RULE_TYPE_FOR_MIXIN,{rule:i});return i}get rules(){return this.#n.getRuleBook().rules.filter(mr)}get activeRule(){const u=this.rules.at(0);return this.#t??u}get sortDirection(){return this.#e??this.activeRule?.defaultSortDirection??"asc"}get userHasSetSortDirection(){return this.#e!==void 0}setSortDirection(u){if(this.#n.isDisabled()||!this.activeRule)return;const i=this.#e;this.#e=u,this.#n.touch({source:ft.SORT_BY,event:Z.SET_SORT_BY_DIRECTION,current:{sortDirection:u},initial:{sortDirection:i},rule:this.activeRule})}cycleSortDirection(){const u=yr.findIndex(i=>i===this.#e);if(u!==-1){const i=u+1%(yr.length-1);this.setSortDirection(yr[i])}}toggleSortDirection(){if((this.#e??this.activeRule?.defaultSortDirection)==="desc"){this.setSortDirection("asc");return}this.setSortDirection("desc")}set(u,i){if(this.#n.isDisabled()||!this.activeRule)return;const l=this.#e,p=this.#t,S=u?this.getRule(u):void 0;this.#t=S,this.#e=i,this.#n.touch({source:ft.SORT_BY,event:Z.SET_SORT_BY,current:{rule:S?.id,sortDirection:i},initial:{rule:p?.id,sortDirection:l},rule:this.activeRule})}reset(){this.set(void 0,void 0)}serialize(){return{rule:this.activeRule,sortDirection:this.sortDirection}}static process(u,i,l){return u.rule===void 0?i:It.orderBy(i,p=>typeof u.rule?.sortFn=="function"?u.rule.sortFn(p,l):Number.NEGATIVE_INFINITY,u.sortDirection)}}class au{#t;#e;#n;constructor({initialGroupBy:u,requireGroup:i},l){this.#n=l,u&&(this.#t=this.getRule(u)),this.requireGroup=i}getRule(u){const i=this.#n.getRuleBook().getRule(u);if(wr(i)===!1)throw new k(Q.WRONG_RULE_TYPE_FOR_MIXIN,{rule:i});return i}get rules(){return this.#n.getRuleBook().rules.filter(wr)}get activeRule(){const u=this.requireGroup?this.rules.at(0):void 0;return this.#t??u}get hasGroupByRule(){return this.activeRule!==void 0}get groupSortDirection(){return this.#e??this.activeRule?.defaultGroupSortDirection}set(u){if(this.#n.isDisabled())return;const i=this.#t;let l;const p=typeof u=="string"&&u.trim()==="";p&&(l=void 0),p===!1&&u!==void 0&&(l=this.getRule(u)),this.#t!==l&&(this.#t=l,this.#e=void 0,this.#n.touch({source:ft.GROUP_BY,event:Z.SET_GROUP_BY,current:l?.id,initial:i?.id,rule:l}))}setGroupSortDirection(u){const i=this.#e;this.#e=u,this.#n.touch({source:ft.GROUP_BY,event:Z.SET_GROUP_SORT_BY_DIRECTION,current:u,initial:i,rule:this.activeRule})}toggle(u){const i=this.getRule(u);if(this.activeRule===i){this.set(void 0);return}this.set(i)}reset(){this.setGroupSortDirection(void 0),this.set(void 0)}serialize(){return{rule:this.activeRule,sortDirection:this.#e}}static process(u,i,l){const p=It.groupBy(i,G=>u.rule?.groupFn(G,l)),S=Object.entries(p).map(([G,z])=>({id:G,items:z})),R=u.rule?.sticky!==void 0,C=[],B=[];if(R&&u.rule&&(C.push(_o(u.rule)),B.push("asc")),u.rule?.sortGroupFn&&(C.push(u.rule.sortGroupFn),B.push(u.sortDirection??"asc")),C.length>0){const G=B;return It.orderBy(S,C,G)}return S}}function _o(h){let u=[];h.sticky?.header!==void 0&&(Array.isArray(h.sticky.header)&&(u=h.sticky.header),typeof h.sticky.header=="string"&&(u=[h.sticky.header]));let i=[];return h.sticky?.footer!==void 0&&(Array.isArray(h.sticky.footer)&&(i=h.sticky.footer),typeof h.sticky.footer=="string"&&(i=[h.sticky.footer])),l=>{if(u.includes(l.id)){const p=u.findIndex(R=>l.id===R);return(u.length-p)*-1}return i.includes(l.id)?1+i.findIndex(S=>l.id===S):0}}class lu{#t;#e;constructor({page:u,numItemsPerPage:i},l){this.#t=u??1,this.numItemsPerPage=i,this.#e=l}setPage(u){if(u!==this.#t){const i=this.#t;this.#t=u,this.#e.touch({source:ft.PAGINATION,event:Z.SET_PAGE,current:{page:this.#t},initial:{page:i}})}}setNumItemsPerPage(u){if(u!==this.numItemsPerPage){const i=this.numItemsPerPage;this.numItemsPerPage=u,this.#e.touch({source:ft.PAGINATION,event:Z.SET_NUM_ITEMS_PER_PAGE,current:{numItemsPerPage:this.numItemsPerPage},initial:{numItemsPerPage:i}})}}get lastPage(){if(this.numItemsPerPage!==void 0)return Math.ceil(this.#e.getItems().length/this.numItemsPerPage)}get numTotalItems(){return this.#e.getItems().length}get page(){return this.numItemsPerPage&&this.lastPage?It.clamp(this.#t,1,this.lastPage):this.#t}get offset(){return this.numItemsPerPage&&this.lastPage?(It.clamp(this.#t,1,this.lastPage)-1)*this.numItemsPerPage:0}serialize(){return{page:this.#t,numItemsPerPage:this.numItemsPerPage}}static process(u,i){if(u.numItemsPerPage===void 0)return i;const l=Math.ceil(i.length/u.numItemsPerPage),S=(It.clamp(u.page,1,l)-1)*u.numItemsPerPage;return i.slice(S,S+u.numItemsPerPage)}}function po(){const h=new Map;return(u,i)=>u.debounceMilliseconds===void 0?i():(h.has(u)===!1&&h.set(u,It.debounce(l=>l(),u.debounceMilliseconds)),h.get(u)?.(i))}class vo{constructor(u,i,l){this.searchEffects=[],this.ruleEffects=[],this.#t=u.filter(fo),this.#e=u.filter(oo),this.hydrateDefinitions(i,l)}#t;#e;hydrateDefinitions(u,i){this.ruleEffects=this.#t.map(l=>{const p=typeof l.rules=="function"?l.rules(u,i):l.rules,S=Array.isArray(p)?p:[p];return{...l,rules:S,_isHydrated:!0}}),this.searchEffects=this.#e.map(l=>{const p=typeof l.haystack=="function"?l.haystack(u,i):l.haystack,S=Array.isArray(p)?p:[p];return{...l,haystack:S,_isHydrated:!0}})}processRule(u,i){this.ruleEffects.forEach(l=>{l.rules.some(S=>typeof S=="string"&&u.id===S||typeof S=="object"&&u.id===S.id)&&l.onChange(i,u)})}processSearchTerm(u,i){this.searchEffects.forEach(l=>{uo(l.haystack,u)&&l.onChange(i,u)})}}class Io{#t=new Map;#e=!1;on(u,i){this.#t.has(u)===!1&&this.#t.set(u,new Set),this.#t.get(u)?.add(i)}off(u,i){if(this.#t.has(u)===!1)return;if(i===void 0){this.#t.delete(u);return}this.#t.get(u)?.delete(i)}emit(u,i){if(this.#e)return;this.#t.get(u)?.forEach(p=>{p(i)})}silently(u){this.#e=!0,u(),this.#e=!1}isSilent(){return this.#e}}class On{constructor(u,i,l){this.rules=[],On.validateDefinitions(u),this.#t=u,this.hydrateDefinitions(i,l)}#t;hydrateDefinitions(u,i){this.rules=this.#t.map(l=>iu(l)?{...l,options:typeof l.options=="function"?l.options({items:u,context:i}):l.options,multiple:!!l.multiple,required:!!l.required,boolean:!!l.boolean,hidden:!!l.hidden,_isHydrated:!0}:l)}getRule(u){const i=this.rules.find(l=>typeof u=="object"?l.id===u.id:l.id===u);if(i===void 0)throw new k(Q.RULE_NOT_FOUND,u);return i}getDefinitions(){return this.#t}setRules(u){On.validateDefinitions(u),this.#t=u}static validateDefinitions(u){if(u.length===0)return!1;const i=[xn,iu,mr,wr],l=new Set;return u.forEach(p=>{if(p.id===void 0&&!xn(p))throw new k(Q.INVALID_RULE_WITHOUT_ID,p);if(i.some(S=>S(p))===!1)throw new k(Q.INVALID_RULE_SHAPE,p);if(p.id){if(l.has(p.id))throw new k(Q.INVALID_RULE_DUPLICATE,p);l.add(p.id)}}),!0}}class nn{constructor(){this.snapshot={},this.isStale=!0}setIsStale(u){this.isStale=u}takeSnapshot({items:u,context:i,mixins:l}){const p=nn.test({mixins:l,items:u,context:i}),S=l.pagination?lu.process(l.pagination,p):p;let R=[];const C=l.groupBy!==void 0;l.groupBy&&(R=au.process(l.groupBy,S,i)),this.snapshot={items:C?void 0:S,groups:C?R:void 0,numMatchedItems:p.length,numTotalItems:u.length,hasGroupByRule:C}}static test({mixins:u,items:i,context:l}){let p=[...i];return u.search&&(p=su.process(u.search,p,l)),u.filters&&(p=fu.process(u.filters,p,l)),u.sortBy&&(p=ou.process(u.sortBy,p,l)),p}}class To{constructor(u,{rules:i,effects:l,initialSearchTerm:p,initialSortBy:S,initialSortDirection:R,initialGroupBy:C,initialFilters:B,context:G,page:z,numItemsPerPage:q,isLoading:dt,disabled:wt,requireGroup:Jt,ignoreSortByRulesWhileSearchRuleIsActive:ge,onInit:ct,onReady:yt,onFirstUserInteraction:we,onChange:Tt},ee){this.isReady=!1,this.#e=!1,this.#t=u,this.disabled=!!wt,this.isLoading=!!dt,this.#r=new Io,this.getInstanceFn=ee,this.#i=new On(i,u??[],G),this.#s=new vo(l??[],u??[],G);const St=po(),xt={getItems:()=>this.items,getRuleBook:()=>this.#i,isLoading:()=>this.isLoading,isDisabled:()=>this.disabled,test:($,ne)=>this.test($,ne),touch:$=>this.#l($),debouncer:St};this.search=new su({initialSearchTerm:p},xt),this.filters=new fu({initialFilters:B},xt),this.sortBy=new ou({initialSortBy:S,initialSortDirection:R},xt),this.groupBy=new au({initialGroupBy:C,requireGroup:!!Jt},xt),this.pagination=new lu({page:z,numItemsPerPage:q},xt),this.updatedAt=Date.now(),this.#u=new nn,this.context=G,this.#n=ge,this.#r.silently(()=>{const $={source:ft.CORE,event:Z.INIT,timestamp:Date.now(),instance:this.getInstanceFn()};ct&&ct($)}),Tt&&this.#r.on(Z.CHANGE,Tt),we&&this.#r.on(Z.FIRST_USER_INTERACTION,we),this.isReady=!dt&&Array.isArray(u)&&u.length>0,yt&&this.isReady&&yt({source:ft.CORE,event:Z.READY,timestamp:Date.now(),instance:this.getInstanceFn()}),this.isReady===!1&&yt&&this.#r.on(Z.READY,yt)}#t;#e;#n;#r;#u;#i;#s;#l(u){if(this.#r.isSilent())return;this.emitFirstUserInteraction(),this.#o(),this.#u.setIsStale(!0);const i={...u,timestamp:Date.now(),instance:this.getInstanceFn()};this.#r.emit(Z.CHANGE,i),this.#r.silently(()=>{u.rule&&this.#s.processRule(u.rule,this.getInstanceFn()),this.search.hasSearchTerm&&this.#s.processSearchTerm(this.search.searchTerm,this.getInstanceFn())})}#f(u){this.#u.setIsStale(!0),this.#o();const i={...u,timestamp:Date.now(),instance:this.getInstanceFn()};this.#r.emit(u.event,i)}#o(){this.updatedAt=Date.now(),this.#r.emit(Z.SYNC_UPDATED_AT,this.updatedAt)}emitFirstUserInteraction(){if(this.#e===!1){this.#e=!0;const u={source:ft.CORE,event:Z.FIRST_USER_INTERACTION,timestamp:Date.now(),instance:this.getInstanceFn()};this.#r.emit(Z.FIRST_USER_INTERACTION,u)}}#c(){this.isReady===!1&&(this.isReady=!0,this.#r.emit(Z.READY,{source:ft.CORE,event:Z.READY,timestamp:Date.now()}))}get items(){return Array.isArray(this.#t)?this.#t:[]}get matches(){return this.#u.isStale&&(this.#u.takeSnapshot({items:this.items,context:this.context,mixins:this.#a()}),this.#u.setIsStale(!1)),this.#u.snapshot}test(u,i=!1){if(i){const l={...this.#a(),...u};return nn.test({mixins:l,items:this.items,context:this.context})}return nn.test({mixins:u,items:this.items,context:this.context})}#a(){const u=this.search.hasSearchRule&&this.search.hasSearchTerm,i=u&&this.#n,l={};return u&&(l.search=this.search.serialize()),this.filters.activeRules.length>0&&(l.filters=this.filters.serialize()),this.pagination.numItemsPerPage&&(l.pagination=this.pagination.serialize()),i===!1&&(l.sortBy=this.sortBy.serialize()),this.groupBy.activeRule!==void 0&&(l.groupBy=this.groupBy.serialize()),l}get isEmpty(){return this.isLoading===!1&&this.items.length===0}get hasMatches(){const u=Array.isArray(this.matches.items)&&this.matches.items.length>0,i=Array.isArray(this.matches.groups)&&this.matches.groups.length>0;return u||i}get events(){return{on:(u,i)=>this.#r.on(u,i),off:(u,i)=>this.#r.off(u,i),silently:u=>this.#r.silently(u),isSilent:()=>this.#r.isSilent()}}getRule(u){return this.#i.getRule(u)}get state(){if(this.isLoading)return"loading";if(this.isEmpty)return"empty";const u=this.groupBy.activeRule!==void 0;return u&&Array.isArray(this.matches.groups)&&this.matches.groups.length>0?"groups":u===!1&&Array.isArray(this.matches.items)&&this.matches.items.length>0?"items":"noMatches"}setItems(u){if(It.isEqual(u,this.#t)===!1){const i=this.#t;this.#t=u,this.#i.hydrateDefinitions(this.items,this.context),this.#s.hydrateDefinitions(this.items,this.context),this.#f({source:ft.CORE,event:Z.SET_ITEMS,current:u,initial:i})}}setIsLoading(u){if(!!u!==this.isLoading){const i=this.isLoading;this.isLoading=!!u,this.#f({source:ft.CORE,event:Z.SET_IS_LOADING,current:!!u,initial:i}),this.isLoading===!1&&this.#c()}}setIsDisabled(u){if(!!u!==this.disabled){const i=this.disabled;this.disabled=!!u,this.#f({source:ft.CORE,event:Z.SET_IS_DISABLED,current:!!u,initial:i})}}setRules(u){It.isEqual(u,this.#i.getDefinitions())===!1&&(this.#i.setRules(u),this.#i.hydrateDefinitions(this.items,this.context))}setContext(u){const i=this.context;It.isEqual(u,i)===!1&&(this.context=u,this.#i.hydrateDefinitions(this.items,this.context),this.#s.hydrateDefinitions(this.items,this.context),this.#f({source:ft.CORE,event:Z.SET_CONTEXT,current:u,initial:i}))}}class So{#t;constructor(u,i){const l=()=>this;this.#t=new To(u,i,l)}get items(){return this.#t.items}get context(){return this.#t.context}get isReady(){return this.#t.isReady}get isEmpty(){return this.#t.isEmpty}get hasMatches(){return this.#t.hasMatches}get isLoading(){return this.#t.isLoading}get disabled(){return this.#t.disabled}get state(){return this.#t.state}get updatedAt(){return this.#t.updatedAt}get events(){return this.#t.events}get matches(){return this.#t.matches}get search(){const u=this.#t.search;return{rule:u.rule,searchTerm:u.searchTerm,hasSearchTerm:u.hasSearchTerm,hasSearchRule:u.hasSearchRule,setSearchTerm:u.setSearchTerm.bind(u),reset:u.reset.bind(u),test:u.test.bind(u)}}get filters(){const u=this.#t.filters;return{values:u.values,raw:u.raw,activeRules:u.activeRules,rules:u.rules,isActive:u.isRuleActive.bind(u),get:u.get.bind(u),add:u.add.bind(u),has:u.has.bind(u),getRule:u.getRule.bind(u),toggle:u.toggle.bind(u),set:u.set.bind(u),delete:u.delete.bind(u),test:u.test.bind(u),testRule:u.testRule.bind(u),testRuleOptions:u.testRuleOptions.bind(u)}}get sortBy(){const u=this.#t.sortBy;return{activeRule:u.activeRule,sortDirection:u.sortDirection,userHasSetSortDirection:u.userHasSetSortDirection,rules:u.rules,set:u.set.bind(u),setSortDirection:u.setSortDirection.bind(u),cycleSortDirection:u.cycleSortDirection.bind(u),toggleSortDirection:u.toggleSortDirection.bind(u),reset:u.reset.bind(u)}}get groupBy(){const u=this.#t.groupBy;return{activeRule:u.activeRule,requireGroup:u.requireGroup,rules:u.rules,groupSortDirection:u.groupSortDirection,set:u.set.bind(u),toggle:u.toggle.bind(u),setGroupSortDirection:u.setGroupSortDirection.bind(u),reset:u.reset.bind(u)}}get pagination(){const u=this.#t.pagination;return{page:u.page,offset:u.offset,numItemsPerPage:u.numItemsPerPage,numTotalItems:u.numTotalItems,lastPage:u.lastPage,isPaginated:u.numItemsPerPage!==void 0,setPage:u.setPage.bind(u),setNumItemsPerPage:u.setNumItemsPerPage.bind(u)}}setItems(u){return this.#t.setItems(u)}setIsLoading(u){return this.#t.setIsLoading(u)}setIsDisabled(u){return this.#t.setIsDisabled(u)}setRules(u){return this.#t.setRules(u)}setContext(u){return this.#t.setContext(u)}test(u,i=!1){return this.#t.test(u,i)}getRule(u){return this.#t.getRule(u)}}function xr({items:h,rules:u,effects:i,initialSearchTerm:l,initialSortBy:p,initialSortDirection:S,initialGroupBy:R,initialFilters:C,context:B,isLoading:G,disabled:z,page:q,numItemsPerPage:dt,requireGroup:wt,ignoreSortByRulesWhileSearchRuleIsActive:Jt,onInit:ge,onReady:ct,onFirstUserInteraction:yt,onChange:we,controllerRef:Tt,children:ee}){const[St,xt]=bt.useState(Date.now()),[$]=bt.useState(()=>{const Me=new So(h,{rules:u,effects:i,initialSearchTerm:l,initialSortBy:p,initialSortDirection:S,initialGroupBy:R,initialFilters:C,context:B,isLoading:G,disabled:z,page:q,numItemsPerPage:dt,requireGroup:wt,ignoreSortByRulesWhileSearchRuleIsActive:Jt,onInit:ge,onReady:ct,onFirstUserInteraction:yt,onChange:we});return Me.events.on(Z.SYNC_UPDATED_AT,Or=>xt(Or)),Me});$.setItems(h),$.setIsLoading(G),$.setIsDisabled(z),$.setRules(u),B!==void 0&&$.setContext(B),q!==void 0&&$.pagination.setPage(q),dt!==void 0&&$.pagination.setNumItemsPerPage(dt),bt.useImperativeHandle(Tt,()=>$,[$]);const ne=bt.useMemo(()=>[$,St],[$,St]);return lt.jsx(Vi.Provider,{value:ne,children:ee})}xr.Content=Ue,xr.SearchTermHaystack=so;function Eo(){return bt.useRef(null)}ut.Finder=xr,ut.StringMatch=ru,ut.filterRule=Kf,ut.finderRuleset=zf,ut.groupByRule=Zf,ut.ruleEffect=Jf,ut.searchEffect=Vf,ut.searchRule=$f,ut.sortByRule=Xf,ut.useFinder=me,ut.useFinderRef=Eo,Object.defineProperty(ut,Symbol.toStringTag,{value:"Module"})}));
